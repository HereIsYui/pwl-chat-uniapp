(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["app-service"],{"06d5":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s("2fe3"),n={data:function(){return{setting:{JoinChatTime:30,ImageLoadHome:"https://pwl.yuis.cc/GetImage?url="},apiKey:null,canGetLiveness:!1}},onBackPress:function(t){uni.setStorageSync("setting",JSON.stringify(this.setting))},onLoad:function(t){var e=this;this.apiKey=t.apiKey,this.apiKey&&(0,i.checkCollectedLiveness)({apiKey:this.apiKey}).then((function(t){t.isCollectedYesterdayLivenessReward||(e.canGetLiveness=!0)}))},methods:{getLiveness:function(){(0,i.getYesterdayLiveness)({apiKey:this.apiKey}).then((function(t){uni.showToast({title:"\u9886\u53d6\u6210\u529f\uff0c\u79ef\u5206:"+t.sum,icon:"none"})}))},logout:function(){uni.clearStorageSync(),getApp().globalData.data=null,getApp().globalData.apiKey="",uni.reLaunch({url:"/pages/index/index"})}}};e.default=n},"0766":function(t,e,s){"use strict";s.r(e);var i=s("96ec"),n=s("728a");for(var a in n)"default"!==a&&function(t){s.d(e,t,(function(){return n[t]}))}(a);var r,o=s("f0c5"),c=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);e["default"]=c.exports},"0bde":function(t,e,s){"use strict";s.r(e);var i=s("8b4c"),n=s.n(i);for(var a in i)"default"!==a&&function(t){s.d(e,t,(function(){return i[t]}))}(a);e["default"]=n.a},"0de9":function(t,e,s){"use strict";function i(t){var e=Object.prototype.toString.call(t);return e.substring(8,e.length-1)}function n(){return"string"===typeof __channelId__&&__channelId__}function a(t,e){switch(i(e)){case"Function":return"function() { [native code] }";default:return e}}function r(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];console[t].apply(console,s)}function o(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];var r=e.shift();if(n())return e.push(e.pop().replace("at ","uni-app:///")),console[r].apply(console,e);var o=e.map((function(t){var e=Object.prototype.toString.call(t).toLowerCase();if("[object object]"===e||"[object array]"===e)try{t="---BEGIN:JSON---"+JSON.stringify(t,a)+"---END:JSON---"}catch(n){t=e}else if(null===t)t="---NULL---";else if(void 0===t)t="---UNDEFINED---";else{var s=i(t).toUpperCase();t="NUMBER"===s||"BOOLEAN"===s?"---BEGIN:"+s+"---"+t+"---END:"+s+"---":String(t)}return t})),c="";if(o.length>1){var u=o.pop();c=o.join("---COMMA---"),0===u.indexOf(" at ")?c+=u:c+="---COMMA---"+u}else c=o[0];console[r](c)}s.r(e),s.d(e,"log",(function(){return r})),s.d(e,"default",(function(){return o}))},"0f43":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={pages:{},globalStyle:{}};e.default=i},"16e6":function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s("2fe3"),n=a(s("69cc"));function a(t){return t&&t.__esModule?t:{default:t}}var r={data:function(){return{ShowLogin:!1,nameOrEmail:"",userPassword:""}},onLoad:function(){this.init()},methods:{init:function(){var t=this,e=uni.getStorageSync("apiKey");uni.getStorageSync("userData");e?this.CheckUser(e):setTimeout((function(){t.ShowLogin=!0}),100)},login:function(){var e=this;(0,i.getKey)({nameOrEmail:this.nameOrEmail,userPassword:n.default.hash(this.userPassword)}).then((function(s){0==s.code?(t("log",s," at pages/index/index.vue:52"),e.CheckUser(s.Key)):uni.showToast({title:"\u8d26\u53f7\u5bc6\u7801\u9519\u8bef!",icon:"error",duration:2e3})}))},CheckUser:function(t){var e=this;(0,i.checkUser)({apiKey:t}).then((function(s){0==s.code?(uni.setStorageSync("userData",s.data),uni.setStorageSync("apiKey",t),getApp().globalData.data=s.data,getApp().globalData.apiKey=t,uni.reLaunch({url:"/pages/chat/chat"})):setTimeout((function(){e.ShowLogin=!0}),100)}))}}};e.default=r}).call(this,s("0de9")["default"])},"1bef":function(t,e,s){"use strict";var i;s.d(e,"b",(function(){return n})),s.d(e,"c",(function(){return a})),s.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:t._$s(0,"sc","cell-list"),attrs:{_i:0}},[s("view",{staticClass:t._$s(1,"sc","cell-item flex"),attrs:{_i:1}},[s("view",{staticClass:t._$s(2,"sc","cell-label"),attrs:{_i:2}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.setting.JoinChatTime,expression:"setting.JoinChatTime"}],staticClass:t._$s(3,"sc","cell-input"),attrs:{_i:3},domProps:{value:t._$s(3,"v-model",t.setting.JoinChatTime)},on:{input:function(e){e.target.composing||t.$set(t.setting,"JoinChatTime",e.target.value)}}})]),s("view",{staticClass:t._$s(4,"sc","cell-item"),attrs:{_i:4}},[s("view",{staticClass:t._$s(5,"sc","cell-label"),attrs:{_i:5}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.setting.ImageLoadHome,expression:"setting.ImageLoadHome"}],staticClass:t._$s(6,"sc","cell-input"),attrs:{_i:6},domProps:{value:t._$s(6,"v-model",t.setting.ImageLoadHome)},on:{input:function(e){e.target.composing||t.$set(t.setting,"ImageLoadHome",e.target.value)}}}),s("view",{staticClass:t._$s(7,"sc","msg"),attrs:{_i:7}})]),s("view",{staticClass:t._$s(8,"sc","cell-item flex"),attrs:{_i:8}},[s("view",{staticClass:t._$s(9,"sc","cell-label"),attrs:{_i:9}})]),s("view",{staticClass:t._$s(10,"sc","cell-item flex"),attrs:{_i:10}},[s("view",{staticClass:t._$s(11,"sc","cell-label"),attrs:{_i:11}})]),t._$s(12,"i",t.canGetLiveness)?s("view",{staticClass:t._$s(12,"sc","cell-item flex"),attrs:{_i:12}},[s("view",{staticClass:t._$s(13,"sc","cell-btn btn-success"),attrs:{_i:13},on:{click:function(e){return t.getLiveness()}}})]):t._e(),s("view",{staticClass:t._$s(14,"sc","cell-item flex"),attrs:{_i:14}},[s("view",{staticClass:t._$s(15,"sc","cell-btn"),attrs:{_i:15},on:{click:function(e){return t.logout()}}})])])},a=[]},"1ede":function(t,e,s){"use strict";s.r(e);var i=s("9755"),n=s("6ab6");for(var a in n)"default"!==a&&function(t){s.d(e,t,(function(){return n[t]}))}(a);var r,o=s("f0c5"),c=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"918e8ef6",null,!1,i["a"],r);e["default"]=c.exports},"20f7":function(t,e,s){"use strict";s.r(e);var i=s("e5af"),n=s("49c7");for(var a in n)"default"!==a&&function(t){s.d(e,t,(function(){return n[t]}))}(a);var r,o=s("f0c5"),c=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"384d941b",null,!1,i["a"],r);e["default"]=c.exports},"2fe3":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.upload=e.checkCollectedLiveness=e.getYesterdayLiveness=e.getLiveness=e.getUserInfo=e.deleteMsg=e.faceList=e.send=e.openRedPacket=e.getMorePage=e.checkUser=e.getKey=e.WS=void 0;var i=n(s("851d"));function n(t){return t&&t.__esModule?t:{default:t}}var a="https://pwl.icu",r="wss://pwl.icu",o={getKey:a+"/api/getKey",checkUser:a+"/api/user",getUserInfo:a+"/user/",emotions:a+"/users/emotions",liveness:a+"/user/liveness",more:a+"/chat-room/more",send:a+"/chat-room/send",delete:a+"/chat-room/revoke/",ylra:a+"/activity/yesterday-liveness-reward-api",icl:a+"/api/activity/is-collected-liveness",open:a+"/chat-room/red-packet/open",getface:a+"/api/cloud/get",upload:a+"/upload"},c={channel:r+"/chat-room-channel"};e.WS=c;var u=function(t){return i.default.flirt({url:o.getKey,data:t,method:"POST"})};e.getKey=u;var l=function(t){return i.default.flirt({url:o.checkUser,data:t})};e.checkUser=l;var f=function(t){return i.default.flirt({url:o.more,data:t})};e.getMorePage=f;var d=function(t){return i.default.flirt({url:o.open,data:t,method:"POST"})};e.openRedPacket=d;var h=function(t){return i.default.flirt({url:o.send,data:t,method:"POST"})};e.send=h;var p=function(t){return i.default.flirt({url:o.getface,data:t,method:"POST"})};e.faceList=p;var g=function(t){return i.default.flirt({url:o.delete+t.oId,data:{apiKey:t.apiKey},method:"DELETE"})};e.deleteMsg=g;var v=function(t){return i.default.flirt({url:o.getUserInfo+t})};e.getUserInfo=v;var m=function(t){return i.default.flirt({url:o.liveness,data:t})};e.getLiveness=m;var _=function(t){return i.default.flirt({url:o.ylra,data:t})};e.getYesterdayLiveness=_;var y=function(t){return i.default.flirt({url:o.icl,data:t})};e.checkCollectedLiveness=y;var w=function(t){return new Promise((function(e,s){uni.uploadFile({url:o.upload,filePath:t,name:"file[]",header:{enctype:"multipart/form-data"},success:function(t){e(t)},fail:function(t){s(t)}})}))};e.upload=w},3187:function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s("2fe3"),n={data:function(){return{user:"",userInfo:{}}},onLoad:function(e){t("log",e," at pages/chat/userInfo.vue:56"),this.user=e.user||"Yui",uni.setNavigationBarTitle({title:this.user+"\u7684\u4e2a\u4eba\u4fe1\u606f"}),this.getInfo()},methods:{getInfo:function(){var e=this;(0,i.getUserInfo)(this.user).then((function(s){""==s.cardBg&&(s.cardBg="https://pwl.stackoverflow.wiki/2021/11/32ceecb7798ea1fa-82bd6ec7.jpg"),s.sysMetal&&(s.sysMetal=JSON.parse(s.sysMetal)),e.userInfo=s,t("log",e.userInfo," at pages/chat/userInfo.vue:83")}))}}};e.default=n}).call(this,s("0de9")["default"])},"35f8":function(t,e){t.exports="/static/icon/hongbao.png"},4533:function(t,e,s){(function(e){var s;function i(){var t=!1,s=plus.ios.import("UIApplication"),i=s.sharedApplication(),n=0;if(i.currentUserNotificationSettings){var a=i.currentUserNotificationSettings();n=a.plusGetAttribute("types"),e("log","enabledTypes1:"+n," at utils/permission.js:19"),0==n?e("log","\u63a8\u9001\u6743\u9650\u6ca1\u6709\u5f00\u542f"," at utils/permission.js:21"):(t=!0,e("log","\u5df2\u7ecf\u5f00\u542f\u63a8\u9001\u529f\u80fd!"," at utils/permission.js:24")),plus.ios.deleteObject(a)}else n=i.enabledRemoteNotificationTypes(),0==n?e("log","\u63a8\u9001\u6743\u9650\u6ca1\u6709\u5f00\u542f!"," at utils/permission.js:30"):(t=!0,e("log","\u5df2\u7ecf\u5f00\u542f\u63a8\u9001\u529f\u80fd!"," at utils/permission.js:33")),e("log","enabledTypes2:"+n," at utils/permission.js:35");return plus.ios.deleteObject(i),plus.ios.deleteObject(s),t}function n(){var t=!1,s=plus.ios.import("CLLocationManager"),i=s.authorizationStatus();return t=2!=i,e("log","\u5b9a\u4f4d\u6743\u9650\u5f00\u542f\uff1a"+t," at utils/permission.js:48"),plus.ios.deleteObject(s),t}function a(){var t=!1,s=plus.ios.import("AVAudioSession"),i=s.sharedInstance(),n=i.recordPermission();return e("log","permissionStatus:"+n," at utils/permission.js:70"),1684369017==n||1970168948==n?e("log","\u9ea6\u514b\u98ce\u6743\u9650\u6ca1\u6709\u5f00\u542f"," at utils/permission.js:72"):(t=!0,e("log","\u9ea6\u514b\u98ce\u6743\u9650\u5df2\u7ecf\u5f00\u542f"," at utils/permission.js:75")),plus.ios.deleteObject(s),t}function r(){var t=!1,s=plus.ios.import("AVCaptureDevice"),i=s.authorizationStatusForMediaType("vide");return e("log","authStatus:"+i," at utils/permission.js:86"),3==i?(t=!0,e("log","\u76f8\u673a\u6743\u9650\u5df2\u7ecf\u5f00\u542f"," at utils/permission.js:89")):e("log","\u76f8\u673a\u6743\u9650\u6ca1\u6709\u5f00\u542f"," at utils/permission.js:91"),plus.ios.deleteObject(s),t}function o(){var t=!1,s=plus.ios.import("PHPhotoLibrary"),i=s.authorizationStatus();return e("log","authStatus:"+i," at utils/permission.js:102"),3==i?(t=!0,e("log","\u76f8\u518c\u6743\u9650\u5df2\u7ecf\u5f00\u542f"," at utils/permission.js:105")):e("log","\u76f8\u518c\u6743\u9650\u6ca1\u6709\u5f00\u542f"," at utils/permission.js:107"),plus.ios.deleteObject(s),t}function c(){var t=!1,s=plus.ios.import("CNContactStore"),i=s.authorizationStatusForEntityType(0);return 3==i?(t=!0,e("log","\u901a\u8baf\u5f55\u6743\u9650\u5df2\u7ecf\u5f00\u542f"," at utils/permission.js:120")):e("log","\u901a\u8baf\u5f55\u6743\u9650\u6ca1\u6709\u5f00\u542f"," at utils/permission.js:122"),plus.ios.deleteObject(s),t}function u(){var t=!1,s=plus.ios.import("EKEventStore"),i=s.authorizationStatusForEntityType(0);return 3==i?(t=!0,e("log","\u65e5\u5386\u6743\u9650\u5df2\u7ecf\u5f00\u542f"," at utils/permission.js:135")):e("log","\u65e5\u5386\u6743\u9650\u6ca1\u6709\u5f00\u542f"," at utils/permission.js:137"),plus.ios.deleteObject(s),t}function l(){var t=!1,s=plus.ios.import("EKEventStore"),i=s.authorizationStatusForEntityType(1);return 3==i?(t=!0,e("log","\u5907\u5fd8\u5f55\u6743\u9650\u5df2\u7ecf\u5f00\u542f"," at utils/permission.js:150")):e("log","\u5907\u5fd8\u5f55\u6743\u9650\u6ca1\u6709\u5f00\u542f"," at utils/permission.js:152"),plus.ios.deleteObject(s),t}function f(t){return new Promise((function(s,i){plus.android.requestPermissions([t],(function(t){for(var i=0,n=0;n<t.granted.length;n++){var a=t.granted[n];e("log","\u5df2\u83b7\u53d6\u7684\u6743\u9650\uff1a"+a," at utils/permission.js:167"),i=1}for(n=0;n<t.deniedPresent.length;n++){var r=t.deniedPresent[n];e("log","\u62d2\u7edd\u672c\u6b21\u7533\u8bf7\u7684\u6743\u9650\uff1a"+r," at utils/permission.js:172"),i=0}for(n=0;n<t.deniedAlways.length;n++){var o=t.deniedAlways[n];e("log","\u6c38\u4e45\u62d2\u7edd\u7533\u8bf7\u7684\u6743\u9650\uff1a"+o," at utils/permission.js:177"),i=-1}s(i)}),(function(t){e("log","\u7533\u8bf7\u6743\u9650\u9519\u8bef\uff1a"+t.code+" = "+t.message," at utils/permission.js:187"),s({code:t.code,message:t.message})}))}))}function d(t){return"location"==t?n():"camera"==t?r():"photoLibrary"==t?o():"record"==t?a():"push"==t?i():"contact"==t?c():"calendar"==t?u():"memo"==t&&l()}function h(){if(s){var t=plus.ios.import("UIApplication"),e=t.sharedApplication(),i=plus.ios.import("NSURL"),n=i.URLWithString("app-settings:");e.openURL(n),plus.ios.deleteObject(n),plus.ios.deleteObject(i),plus.ios.deleteObject(e)}else{var a=plus.android.importClass("android.content.Intent"),r=plus.android.importClass("android.provider.Settings"),o=plus.android.importClass("android.net.Uri"),c=plus.android.runtimeMainActivity(),u=new a;u.setAction(r.ACTION_APPLICATION_DETAILS_SETTINGS);var l=o.fromParts("package",c.getPackageName(),null);u.setData(l),c.startActivity(u)}}function p(){if(s){var t=!1,i=plus.ios.import("CLLocationManager");t=i.locationServicesEnabled();return e("log","\u7cfb\u7edf\u5b9a\u4f4d\u5f00\u542f:"+t," at utils/permission.js:253"),plus.ios.deleteObject(i),t}var n=plus.android.importClass("android.content.Context"),a=plus.android.importClass("android.location.LocationManager"),r=plus.android.runtimeMainActivity(),o=r.getSystemService(n.LOCATION_SERVICE);t=o.isProviderEnabled(a.GPS_PROVIDER);return e("log","\u7cfb\u7edf\u5b9a\u4f4d\u5f00\u542f:"+t," at utils/permission.js:262"),t}s="iOS"==plus.os.name,t.exports={judgeIosPermission:d,requestAndroidPermission:f,checkSystemEnableLocation:p,gotoAppPermissionSetting:h}}).call(this,s("0de9")["default"])},"49c7":function(t,e,s){"use strict";s.r(e);var i=s("3187"),n=s.n(i);for(var a in i)"default"!==a&&function(t){s.d(e,t,(function(){return i[t]}))}(a);e["default"]=n.a},"4e23":function(t,e,s){"use strict";s.r(e);var i=s("7852"),n=s("a3b8");for(var a in n)"default"!==a&&function(t){s.d(e,t,(function(){return n[t]}))}(a);var r,o=s("f0c5"),c=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);e["default"]=c.exports},"545c":function(t,e){t.exports="/static/icon/yuyin.png"},"5adc":function(t,e,s){"use strict";s.r(e);var i=s("c450"),n=s.n(i);for(var a in i)"default"!==a&&function(t){s.d(e,t,(function(){return i[t]}))}(a);e["default"]=n.a},"5d3c":function(t,e){var s={trustTags:c("a,abbr,ad,audio,b,blockquote,br,code,col,colgroup,dd,del,dl,dt,div,em,fieldset,h1,h2,h3,h4,h5,h6,hr,i,img,ins,label,legend,li,ol,p,q,ruby,rt,source,span,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,title,ul,video"),blockTags:c("address,article,aside,body,caption,center,cite,footer,header,html,nav,pre,section"),ignoreTags:c("area,base,canvas,embed,frame,head,iframe,input,link,map,meta,param,rp,script,source,style,textarea,title,track,wbr"),voidTags:c("area,base,br,col,circle,ellipse,embed,frame,hr,img,input,line,link,meta,param,path,polygon,rect,source,track,use,wbr"),entities:{lt:"<",gt:">",quot:'"',apos:"'",ensp:"\u2002",emsp:"\u2003",nbsp:"\xa0",semi:";",ndash:"\u2013",mdash:"\u2014",middot:"\xb7",lsquo:"\u2018",rsquo:"\u2019",ldquo:"\u201c",rdquo:"\u201d",bull:"\u2022",hellip:"\u2026"},tagStyle:{address:"font-style:italic",big:"display:inline;font-size:1.2em",caption:"display:table-caption;text-align:center",center:"text-align:center",cite:"font-style:italic",dd:"margin-left:40px",mark:"background-color:yellow",pre:"font-family:monospace;white-space:pre",s:"text-decoration:line-through",small:"display:inline;font-size:0.8em",strike:"text-decoration:line-through",u:"text-decoration:underline"},svgDict:{animatetransform:"animateTransform",lineargradient:"linearGradient",viewbox:"viewBox",attributename:"attributeName",repeatcount:"repeatCount",repeatdur:"repeatDur"}},i={},n=uni.getSystemInfoSync(),a=n.windowWidth,r=c(" ,\r,\n,\t,\f"),o=0;function c(t){for(var e=Object.create(null),s=t.split(","),i=s.length;i--;)e[s[i]]=!0;return e}function u(t,e){var i=t.indexOf("&");while(-1!==i){var n=t.indexOf(";",i+3),a=void 0;if(-1===n)break;"#"===t[i+1]?(a=parseInt(("x"===t[i+2]?"0":"")+t.substring(i+2,n)),isNaN(a)||(t=t.substr(0,i)+String.fromCharCode(a)+t.substr(n+1))):(a=t.substring(i+1,n),(s.entities[a]||"amp"===a&&e)&&(t=t.substr(0,i)+(s.entities[a]||"&")+t.substr(n+1))),i=t.indexOf("&",i+1)}return t}function l(t){this.options=t||{},this.tagStyle=Object.assign({},s.tagStyle,this.options.tagStyle),this.imgList=t.imgList||[],this.plugins=t.plugins||[],this.attrs=Object.create(null),this.stack=[],this.nodes=[],this.pre=(this.options.containerStyle||"").includes("white-space")&&this.options.containerStyle.includes("pre")?2:0}function f(t){this.handler=t}s.ignoreTags.iframe=void 0,s.trustTags.iframe=!0,s.ignoreTags.embed=void 0,s.trustTags.embed=!0,l.prototype.parse=function(t){for(var e=this.plugins.length;e--;)this.plugins[e].onUpdate&&(t=this.plugins[e].onUpdate(t,s)||t);new f(this).parse(t);while(this.stack.length)this.popNode();return this.nodes},l.prototype.expose=function(){for(var t=this.stack.length;t--;){var e=this.stack[t];if(e.c||"a"===e.name||"video"===e.name||"audio"===e.name)return;e.c=1}},l.prototype.hook=function(t){for(var e=this.plugins.length;e--;)if(this.plugins[e].onParse&&!1===this.plugins[e].onParse(t,this))return!1;return!0},l.prototype.getUrl=function(t){var e=this.options.domain;return"/"===t[0]?"/"===t[1]?t=(e?e.split("://")[0]:"http")+":"+t:e&&(t=e+t):!e||t.includes("data:")||t.includes("://")||(t=e+"/"+t),t},l.prototype.parseStyle=function(t){var e=t.attrs,s=(this.tagStyle[t.name]||"").split(";").concat((e.style||"").split(";")),i={},n="";e.id&&!this.xml&&(this.options.useAnchor?this.expose():"img"!==t.name&&"a"!==t.name&&"video"!==t.name&&"audio"!==t.name&&(e.id=void 0)),e.width&&(i.width=parseFloat(e.width)+(e.width.includes("%")?"%":"px"),e.width=void 0),e.height&&(i.height=parseFloat(e.height)+(e.height.includes("%")?"%":"px"),e.height=void 0);for(var o=0,c=s.length;o<c;o++){var u=s[o].split(":");if(!(u.length<2)){var l=u.shift().trim().toLowerCase(),f=u.join(":").trim();if("-"===f[0]&&f.lastIndexOf("-")>0||f.includes("safe"))n+=";".concat(l,":").concat(f);else if(!i[l]||f.includes("import")||!i[l].includes("import")){if(f.includes("url")){var d=f.indexOf("(")+1;if(d){while('"'===f[d]||"'"===f[d]||r[f[d]])d++;f=f.substr(0,d)+this.getUrl(f.substr(d))}}else f.includes("rpx")&&(f=f.replace(/[0-9.]+\s*rpx/g,(function(t){return parseFloat(t)*a/750+"px"})));i[l]=f}}}return t.attrs.style=n,i},l.prototype.onTagName=function(t){this.tagName=this.xml?t:t.toLowerCase(),"svg"===this.tagName&&(this.xml=(this.xml||0)+1)},l.prototype.onAttrName=function(t){t=this.xml?t:t.toLowerCase(),"data-"===t.substr(0,5)?"data-src"!==t||this.attrs.src?"img"===this.tagName||"a"===this.tagName?this.attrName=t:this.attrName=void 0:this.attrName="src":(this.attrName=t,this.attrs[t]="T")},l.prototype.onAttrVal=function(t){var e=this.attrName||"";"style"===e||"href"===e?this.attrs[e]=u(t,!0):e.includes("src")?this.attrs[e]=this.getUrl(u(t,!0)):e&&(this.attrs[e]=t)},l.prototype.onOpenTag=function(t){var e=Object.create(null);e.name=this.tagName,e.attrs=this.attrs,this.options.nodes.length&&(e.type="node"),this.attrs=Object.create(null);var n=e.attrs,r=this.stack[this.stack.length-1],c=r?r.children:this.nodes,u=this.xml?t:s.voidTags[e.name];if(i[e.name]&&(n.class=i[e.name]+(n.class?" "+n.class:"")),"embed"===e.name&&this.expose(),"video"!==e.name&&"audio"!==e.name||("video"!==e.name||n.id||(n.id="v"+o++),n.controls||n.autoplay||(n.controls="T"),e.src=[],n.src&&(e.src.push(n.src),n.src=void 0),this.expose()),u){if(!this.hook(e)||s.ignoreTags[e.name])return void("base"!==e.name||this.options.domain?"source"===e.name&&r&&("video"===r.name||"audio"===r.name)&&n.src&&r.src.push(n.src):this.options.domain=n.href);var l=this.parseStyle(e);if("img"===e.name){if(n.src&&(n.src.includes("webp")&&(e.webp="T"),n.src.includes("data:")&&!n["original-src"]&&(n.ignore="T"),!n.ignore||e.webp||n.src.includes("cloud://"))){for(var f=this.stack.length;f--;){var d=this.stack[f];if("a"===d.name){e.a=d.attrs;break}d.c=1}n.i=this.imgList.length.toString();var h=n["original-src"]||n.src;this.imgList.push(h),this.options.lazyLoad&&(n["data-src"]=n.src,n.src=void 0)}"inline"===l.display&&(l.display=""),n.ignore&&(l["max-width"]=l["max-width"]||"100%",n.style+=";-webkit-touch-callout:none"),parseInt(l.width)>a&&(l.height=void 0),l.width&&(l.width.includes("auto")?l.width="":(e.w="T",l.height&&!l.height.includes("auto")&&(e.h="T")))}else if("svg"===e.name)return c.push(e),this.stack.push(e),void this.popNode();for(var p in l)l[p]&&(n.style+=";".concat(p,":").concat(l[p].replace(" !important","")));n.style=n.style.substr(1)||void 0}else("pre"===e.name||(n.style||"").includes("white-space")&&n.style.includes("pre"))&&2!==this.pre&&(this.pre=e.pre=1),e.children=[],this.stack.push(e);c.push(e)},l.prototype.onCloseTag=function(t){var e;for(t=this.xml?t:t.toLowerCase(),e=this.stack.length;e--;)if(this.stack[e].name===t)break;if(-1!==e)while(this.stack.length>e)this.popNode();else if("p"===t||"br"===t){var s=this.stack.length?this.stack[this.stack.length-1].children:this.nodes;s.push({name:t,attrs:{class:i[t],style:this.tagStyle[t]}})}},l.prototype.popNode=function(){var t=this.stack.pop(),e=t.attrs,i=t.children,n=this.stack[this.stack.length-1],r=n?n.children:this.nodes;if(!this.hook(t)||s.ignoreTags[t.name])return"title"===t.name&&i.length&&"text"===i[0].type&&this.options.setTitle&&uni.setNavigationBarTitle({title:i[0].text}),void r.pop();if(t.pre&&2!==this.pre){this.pre=t.pre=void 0;for(var o=this.stack.length;o--;)this.stack[o].pre&&(this.pre=1)}var c={};if("svg"===t.name){if(this.xml>1)return void this.xml--;var u="",l=e.style;return e.style="",e.xmlns="http://www.w3.org/2000/svg",function t(e){if("text"!==e.type){var i=s.svgDict[e.name]||e.name;for(var n in u+="<"+i,e.attrs){var a=e.attrs[n];a&&(u+=" ".concat(s.svgDict[n]||n,'="').concat(a,'"'))}if(e.children){u+=">";for(var r=0;r<e.children.length;r++)t(e.children[r]);u+="</"+i+">"}else u+="/>"}else u+=e.text}(t),t.name="img",t.attrs={src:"data:image/svg+xml;utf8,"+u.replace(/#/g,"%23"),style:l,ignore:"T"},t.children=void 0,void(this.xml=!1)}if(e.align&&("table"===t.name?"center"===e.align?c["margin-inline-start"]=c["margin-inline-end"]="auto":c.float=e.align:c["text-align"]=e.align,e.align=void 0),e.dir&&(c.direction=e.dir,e.dir=void 0),"font"===t.name&&(e.color&&(c.color=e.color,e.color=void 0),e.face&&(c["font-family"]=e.face,e.face=void 0),e.size)){var f=parseInt(e.size);isNaN(f)||(f<1?f=1:f>7&&(f=7),c["font-size"]=["xx-small","x-small","small","medium","large","x-large","xx-large"][f-1]),e.size=void 0}if((e.class||"").includes("align-center")&&(c["text-align"]="center"),Object.assign(c,this.parseStyle(t)),"table"!==t.name&&parseInt(c.width)>a&&(c["max-width"]="100%",c["box-sizing"]="border-box"),s.blockTags[t.name]?t.name="div":s.trustTags[t.name]||this.xml||(t.name="span"),"a"===t.name||"ad"===t.name||"iframe"===t.name)this.expose();else if("video"===t.name){var d='<video style="width:100%;height:100%"';for(var h in e)e[h]&&(d+=" "+h+'="'+e[h]+'"');this.options.pauseVideo&&(d+=" onplay=\"for(var e=document.getElementsByTagName('video'),t=0;t<e.length;t++)e[t]!=this&&e[t].pause()\""),d+=">";for(var p=0;p<t.src.length;p++)d+='<source src="'+t.src[p]+'">';d+="</video>",t.html=d}else if("ul"!==t.name&&"ol"!==t.name||!t.c){if("table"===t.name){var g=parseFloat(e.cellpadding),v=parseFloat(e.cellspacing),m=parseFloat(e.border);if(t.c&&(isNaN(g)&&(g=2),isNaN(v)&&(v=2)),m&&(e.style+=";border:"+m+"px solid gray"),t.flag&&t.c){c.display="grid",v?(c["grid-gap"]=v+"px",c.padding=v+"px"):m&&(e.style+=";border-left:0;border-top:0");var _=[],y=[],w=[],b={};(function t(e){for(var s=0;s<e.length;s++)"tr"===e[s].name?y.push(e[s]):t(e[s].children||[])})(i);for(var $=1;$<=y.length;$++){for(var k=1,S=0;S<y[$-1].children.length;S++,k++){var x=y[$-1].children[S];if("td"===x.name||"th"===x.name){while(b[$+"."+k])k++;var C=x.attrs.style||"",I=C.indexOf("width")?C.indexOf(";width"):0;if(-1!==I){var T=C.indexOf(";",I+6);-1===T&&(T=C.length),x.attrs.colspan||(_[k]=C.substring(I?I+7:6,T)),C=C.substr(0,I)+C.substr(T)}if(C+=(m?";border:".concat(m,"px solid gray")+(v?"":";border-right:0;border-bottom:0"):"")+(g?";padding:".concat(g,"px"):""),x.attrs.colspan&&(C+=";grid-column-start:".concat(k,";grid-column-end:").concat(k+parseInt(x.attrs.colspan)),x.attrs.rowspan||(C+=";grid-row-start:".concat($,";grid-row-end:").concat($+1)),k+=parseInt(x.attrs.colspan)-1),x.attrs.rowspan){C+=";grid-row-start:".concat($,";grid-row-end:").concat($+parseInt(x.attrs.rowspan)),x.attrs.colspan||(C+=";grid-column-start:".concat(k,";grid-column-end:").concat(k+1));for(var N=1;N<x.attrs.rowspan;N++)for(var P=0;P<(x.attrs.colspan||1);P++)b[$+N+"."+(k-P)]=1}C&&(x.attrs.style=C),w.push(x)}}if(1===$){for(var O="",L=1;L<k;L++)O+=(_[L]?_[L]:"auto")+" ";c["grid-template-columns"]=O}}t.children=w}else t.c&&(c.display="table"),isNaN(v)||(c["border-spacing"]=v+"px"),(m||g)&&function t(e){for(var s=0;s<e.length;s++){var i=e[s];"th"===i.name||"td"===i.name?(m&&(i.attrs.style="border:".concat(m,"px solid gray;").concat(i.attrs.style||"")),g&&(i.attrs.style="padding:".concat(g,"px;").concat(i.attrs.style||""))):i.children&&t(i.children)}}(i);if(this.options.scrollTable&&!(e.style||"").includes("inline")){var D=Object.assign({},t);t.name="div",t.attrs={style:"overflow:auto"},t.children=[D],e=D.attrs}}else if("td"!==t.name&&"th"!==t.name||!e.colspan&&!e.rowspan){if("ruby"===t.name){t.name="span";for(var j=0;j<i.length-1;j++)"text"===i[j].type&&"rt"===i[j+1].name&&(i[j]={name:"div",attrs:{style:"display:inline-block;text-align:center"},children:[{name:"div",attrs:{style:"font-size:50%;"+(i[j+1].attrs.style||"")},children:i[j+1].children},i[j]]},i.splice(j+1,1))}else if(t.c){t.c=2;for(var A=t.children.length;A--;)t.children[A].c&&"table"!==t.children[A].name||(t.c=1)}}else for(var R=this.stack.length;R--;)if("table"===this.stack[R].name){this.stack[R].flag=1;break}}else{var E={a:"lower-alpha",A:"upper-alpha",i:"lower-roman",I:"upper-roman"};E[e.type]&&(e.style+=";list-style-type:"+E[e.type],e.type=void 0);for(var M=i.length;M--;)"li"===i[M].name&&(i[M].c=1)}if((c.display||"").includes("flex")&&!t.c)for(var B=i.length;B--;){var U=i[B];U.f&&(U.attrs.style=(U.attrs.style||"")+U.f,U.f=void 0)}var q=n&&(n.attrs.style||"").includes("flex")&&!t.c;for(var F in q&&(t.f=";max-width:100%"),c)if(c[F]){var K=";".concat(F,":").concat(c[F].replace(" !important",""));q&&(F.includes("flex")&&"flex-direction"!==F||"align-self"===F||"-"===c[F][0]||"width"===F&&K.includes("%"))?(t.f+=K,"width"===F&&(e.style+=";width:100%")):e.style+=K}e.style=e.style.substr(1)||void 0},l.prototype.onText=function(t){if(!this.pre){for(var e,s="",i=0,n=t.length;i<n;i++)r[t[i]]?(" "!==s[s.length-1]&&(s+=" "),"\n"!==t[i]||e||(e=!0)):s+=t[i];if(" "===s&&e)return;t=s}var a=Object.create(null);if(a.type="text",a.text=u(t),this.hook(a)){var o=this.stack.length?this.stack[this.stack.length-1].children:this.nodes;o.push(a)}},f.prototype.parse=function(t){this.content=t||"",this.i=0,this.start=0,this.state=this.text;for(var e=this.content.length;-1!==this.i&&this.i<e;)this.state()},f.prototype.checkClose=function(t){var e="/"===this.content[this.i];return!!(">"===this.content[this.i]||e&&">"===this.content[this.i+1])&&(t&&this.handler[t](this.content.substring(this.start,this.i)),this.i+=e?2:1,this.start=this.i,this.handler.onOpenTag(e),"script"===this.handler.tagName?(this.i=this.content.indexOf("</",this.i),-1!==this.i&&(this.i+=2,this.start=this.i),this.state=this.endTag):this.state=this.text,!0)},f.prototype.text=function(){if(this.i=this.content.indexOf("<",this.i),-1!==this.i){var t=this.content[this.i+1];if(t>="a"&&t<="z"||t>="A"&&t<="Z")this.start!==this.i&&this.handler.onText(this.content.substring(this.start,this.i)),this.start=++this.i,this.state=this.tagName;else if("/"===t||"!"===t||"?"===t){this.start!==this.i&&this.handler.onText(this.content.substring(this.start,this.i));var e=this.content[this.i+2];if("/"===t&&(e>="a"&&e<="z"||e>="A"&&e<="Z"))return this.i+=2,this.start=this.i,void(this.state=this.endTag);var s="--\x3e";"!"===t&&"-"===this.content[this.i+2]&&"-"===this.content[this.i+3]||(s=">"),this.i=this.content.indexOf(s,this.i),-1!==this.i&&(this.i+=s.length,this.start=this.i)}else this.i++}else this.start<this.content.length&&this.handler.onText(this.content.substring(this.start,this.content.length))},f.prototype.tagName=function(){if(r[this.content[this.i]]){this.handler.onTagName(this.content.substring(this.start,this.i));while(r[this.content[++this.i]]);this.i<this.content.length&&!this.checkClose()&&(this.start=this.i,this.state=this.attrName)}else this.checkClose("onTagName")||this.i++},f.prototype.attrName=function(){var t=this.content[this.i];if(r[t]||"="===t){this.handler.onAttrName(this.content.substring(this.start,this.i));var e="="===t,s=this.content.length;while(++this.i<s)if(t=this.content[this.i],!r[t]){if(this.checkClose())return;if(e)return this.start=this.i,void(this.state=this.attrVal);if("="!==this.content[this.i])return this.start=this.i,void(this.state=this.attrName);e=!0}}else this.checkClose("onAttrName")||this.i++},f.prototype.attrVal=function(){var t=this.content[this.i],e=this.content.length;if('"'===t||"'"===t){if(this.start=++this.i,this.i=this.content.indexOf(t,this.i),-1===this.i)return;this.handler.onAttrVal(this.content.substring(this.start,this.i))}else for(;this.i<e;this.i++){if(r[this.content[this.i]]){this.handler.onAttrVal(this.content.substring(this.start,this.i));break}if(this.checkClose("onAttrVal"))return}while(r[this.content[++this.i]]);this.i<e&&!this.checkClose()&&(this.start=this.i,this.state=this.attrName)},f.prototype.endTag=function(){var t=this.content[this.i];if(r[t]||">"===t||"/"===t){if(this.handler.onCloseTag(this.content.substring(this.start,this.i)),">"!==t&&(this.i=this.content.indexOf(">",this.i),-1===this.i))return;this.start=++this.i,this.state=this.text}else this.i++},t.exports=l},"5e9c":function(t,e,s){"use strict";s("a06e"),s("921b");var i=a(s("b0de")),n=a(s("8bbf"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?r(Object(s),!0).forEach((function(e){c(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function c(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}n.default.config.productionTip=!1,i.default.mpType="app";var u=new n.default(o({},i.default));u.$mount()},6233:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(s("cd1a"));function n(t){return t&&t.__esModule?t:{default:t}}var a=[],r=s("5d3c"),o={name:"mp-html",data:function(){return{nodes:[]}},props:{containerStyle:{type:String,default:""},content:String,copyLink:{type:[Boolean,String],default:!0},domain:String,errorImg:{type:String,default:""},lazyLoad:{type:[Boolean,String],default:!1},loadingImg:{type:String,default:""},pauseVideo:{type:[Boolean,String],default:!0},previewImg:{type:[Boolean,String],default:!0},scrollTable:[Boolean,String],selectable:[Boolean,String],setTitle:{type:[Boolean,String],default:!0},showImgMenu:{type:[Boolean,String],default:!0},tagStyle:Object,useAnchor:[Boolean,Number]},components:{node:i.default},watch:{content:function(t){this.setContent(t)}},created:function(){this.plugins=[];for(var t=a.length;t--;)this.plugins.push(new a[t](this))},mounted:function(){this.content&&!this.nodes.length&&this.setContent(this.content)},beforeDestroy:function(){this._hook("onDetached"),clearInterval(this._timer)},methods:{in:function(t,e,s){t&&e&&s&&(this._in={page:t,selector:e,scrollTop:s})},navigateTo:function(t,e){var s=this;return new Promise((function(i,n){if(s.useAnchor){e=e||parseInt(s.useAnchor)||0;var a=" ",r=uni.createSelectorQuery().in(s._in?s._in.page:s).select((s._in?s._in.selector:"._root")+(t?"".concat(a,"#").concat(t):"")).boundingClientRect();s._in?r.select(s._in.selector).scrollOffset().select(s._in.selector).boundingClientRect():r.selectViewport().scrollOffset(),r.exec((function(t){if(t[0]){var a=t[1].scrollTop+t[0].top-(t[2]?t[2].top:0)+e;s._in?s._in.page[s._in.scrollTop]=a:uni.pageScrollTo({scrollTop:a,duration:300}),i()}else n(Error("Label not found"))}))}else n(Error("Anchor is disabled"))}))},getText:function(t){var e="";return function t(s){for(var i=0;i<s.length;i++){var n=s[i];if("text"===n.type)e+=n.text.replace(/&amp;/g,"&");else if("br"===n.name)e+="\n";else{var a="p"===n.name||"div"===n.name||"tr"===n.name||"li"===n.name||"h"===n.name[0]&&n.name[1]>"0"&&n.name[1]<"7";a&&e&&"\n"!==e[e.length-1]&&(e+="\n"),n.children&&t(n.children),a&&"\n"!==e[e.length-1]?e+="\n":"td"!==n.name&&"th"!==n.name||(e+="\t")}}}(t||this.nodes),e},getRect:function(){var t=this;return new Promise((function(e,s){uni.createSelectorQuery().in(t).select("#_root").boundingClientRect().exec((function(t){return t[0]?e(t[0]):s(Error("Root label not found"))}))}))},setContent:function(t,e){var s=this;e&&this.imgList||(this.imgList=[]);var i,n=new r(this).parse(t);this.$set(this,"nodes",e?(this.nodes||[]).concat(n):n),this._videos=[],this.$nextTick((function(){s._hook("onLoad"),s.$emit("load")})),clearInterval(this._timer),this._timer=setInterval((function(){s.getRect().then((function(t){t.height===i&&(s.$emit("ready",t),clearInterval(s._timer)),i=t.height})).catch((function(){}))}),350)},_hook:function(t){for(var e=a.length;e--;)this.plugins[e][t]&&this.plugins[e][t]()}}};e.default=o},6688:function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s("2fe3"),n={data:function(){return{apiKey:"",index:0,left:25,redpacket:{type:"",money:32,count:2,msg:"",recivers:[]},defaultRedpackWord:{random:"\u6478\u9c7c\u8005\uff0c\u4e8b\u7adf\u6210\uff01",average:"\u5e73\u5206\u7ea2\u5305\uff0c\u4eba\u4eba\u6709\u4efd\uff01",specify:"\u8bd5\u8bd5\u770b\uff0c\u8fd9\u662f\u7ed9\u4f60\u7684\u7ea2\u5305\u5417\uff1f",heartbeat:"\u73a9\u7684\u5c31\u662f\u5fc3\u8df3\uff01"},users:[],checkedUserAvatar:[]}},onLoad:function(t){this.apiKey=t.apiKey},created:function(){var e=uni.getStorageSync("users");e&&(e=JSON.parse(e),e.forEach((function(t){t.checked=!1})),this.users=e),t("log",e," at pages/chat/redpacket.vue:139")},methods:{send:function(t){var e=this.redpacket;if(e.money<32)uni.showToast({title:"\u592a\u62a0\u4e86\uff01\u81f3\u5c11\u8981\u53d132\u79ef\u5206",icon:"none",duration:2e3});else if(e.money>2e4&&(e.money=2e3),e.count<1)uni.showToast({title:"\u592a\u62a0\u4e86\uff01\u81f3\u5c11\u8981\u53d11\u4e2a",icon:"none",duration:2e3});else if("specify"==e.type&&e.recivers.length<1)uni.showToast({title:"\u4e13\u5c5e\u7ea2\u5305\u81f3\u5c11\u8981\u90091\u4eba",icon:"none",duration:2e3});else{""==e.msg&&(e.msg=this.defaultRedpackWord[e.type]);var s="[redpacket]".concat(JSON.stringify(e),"[/redpacket]");if(t)this.sendMsg(s);else for(var i=0;i<10;i++)this.sendMsg(s);uni.navigateBack({delta:1,animationType:"pop-out",animationDuration:200})}},sendMsg:function(t){(0,i.send)({content:t,apiKey:this.apiKey})},selectUser:function(t){var e=t.detail.value,s=[],i=[];e.forEach((function(t){var e=t.split(",");s.push(e[0]);var n=encodeURI(e[1]);n=btoa(n),i.push("https://pwl.yuis.cc/GetImage?url=".concat(n))})),this.redpacket.recivers=s,this.redpacket.count=s.length,this.checkedUserAvatar=i},changeType:function(t,e){this.index=t,this.redpacket.type=e,this.redpacket.count="specify"==e?this.redpacket.count.length:2}}};e.default=n}).call(this,s("0de9")["default"])},"69cc":function(t,e,s){(function(e){t.exports=e()})((function(t){"use strict";var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function s(t,e){var s=t[0],i=t[1],n=t[2],a=t[3];s+=(i&n|~i&a)+e[0]-680876936|0,s=(s<<7|s>>>25)+i|0,a+=(s&i|~s&n)+e[1]-389564586|0,a=(a<<12|a>>>20)+s|0,n+=(a&s|~a&i)+e[2]+606105819|0,n=(n<<17|n>>>15)+a|0,i+=(n&a|~n&s)+e[3]-1044525330|0,i=(i<<22|i>>>10)+n|0,s+=(i&n|~i&a)+e[4]-176418897|0,s=(s<<7|s>>>25)+i|0,a+=(s&i|~s&n)+e[5]+1200080426|0,a=(a<<12|a>>>20)+s|0,n+=(a&s|~a&i)+e[6]-1473231341|0,n=(n<<17|n>>>15)+a|0,i+=(n&a|~n&s)+e[7]-45705983|0,i=(i<<22|i>>>10)+n|0,s+=(i&n|~i&a)+e[8]+1770035416|0,s=(s<<7|s>>>25)+i|0,a+=(s&i|~s&n)+e[9]-1958414417|0,a=(a<<12|a>>>20)+s|0,n+=(a&s|~a&i)+e[10]-42063|0,n=(n<<17|n>>>15)+a|0,i+=(n&a|~n&s)+e[11]-1990404162|0,i=(i<<22|i>>>10)+n|0,s+=(i&n|~i&a)+e[12]+1804603682|0,s=(s<<7|s>>>25)+i|0,a+=(s&i|~s&n)+e[13]-40341101|0,a=(a<<12|a>>>20)+s|0,n+=(a&s|~a&i)+e[14]-1502002290|0,n=(n<<17|n>>>15)+a|0,i+=(n&a|~n&s)+e[15]+1236535329|0,i=(i<<22|i>>>10)+n|0,s+=(i&a|n&~a)+e[1]-165796510|0,s=(s<<5|s>>>27)+i|0,a+=(s&n|i&~n)+e[6]-1069501632|0,a=(a<<9|a>>>23)+s|0,n+=(a&i|s&~i)+e[11]+643717713|0,n=(n<<14|n>>>18)+a|0,i+=(n&s|a&~s)+e[0]-373897302|0,i=(i<<20|i>>>12)+n|0,s+=(i&a|n&~a)+e[5]-701558691|0,s=(s<<5|s>>>27)+i|0,a+=(s&n|i&~n)+e[10]+38016083|0,a=(a<<9|a>>>23)+s|0,n+=(a&i|s&~i)+e[15]-660478335|0,n=(n<<14|n>>>18)+a|0,i+=(n&s|a&~s)+e[4]-405537848|0,i=(i<<20|i>>>12)+n|0,s+=(i&a|n&~a)+e[9]+568446438|0,s=(s<<5|s>>>27)+i|0,a+=(s&n|i&~n)+e[14]-1019803690|0,a=(a<<9|a>>>23)+s|0,n+=(a&i|s&~i)+e[3]-187363961|0,n=(n<<14|n>>>18)+a|0,i+=(n&s|a&~s)+e[8]+1163531501|0,i=(i<<20|i>>>12)+n|0,s+=(i&a|n&~a)+e[13]-1444681467|0,s=(s<<5|s>>>27)+i|0,a+=(s&n|i&~n)+e[2]-51403784|0,a=(a<<9|a>>>23)+s|0,n+=(a&i|s&~i)+e[7]+1735328473|0,n=(n<<14|n>>>18)+a|0,i+=(n&s|a&~s)+e[12]-1926607734|0,i=(i<<20|i>>>12)+n|0,s+=(i^n^a)+e[5]-378558|0,s=(s<<4|s>>>28)+i|0,a+=(s^i^n)+e[8]-2022574463|0,a=(a<<11|a>>>21)+s|0,n+=(a^s^i)+e[11]+1839030562|0,n=(n<<16|n>>>16)+a|0,i+=(n^a^s)+e[14]-35309556|0,i=(i<<23|i>>>9)+n|0,s+=(i^n^a)+e[1]-1530992060|0,s=(s<<4|s>>>28)+i|0,a+=(s^i^n)+e[4]+1272893353|0,a=(a<<11|a>>>21)+s|0,n+=(a^s^i)+e[7]-155497632|0,n=(n<<16|n>>>16)+a|0,i+=(n^a^s)+e[10]-1094730640|0,i=(i<<23|i>>>9)+n|0,s+=(i^n^a)+e[13]+681279174|0,s=(s<<4|s>>>28)+i|0,a+=(s^i^n)+e[0]-358537222|0,a=(a<<11|a>>>21)+s|0,n+=(a^s^i)+e[3]-722521979|0,n=(n<<16|n>>>16)+a|0,i+=(n^a^s)+e[6]+76029189|0,i=(i<<23|i>>>9)+n|0,s+=(i^n^a)+e[9]-640364487|0,s=(s<<4|s>>>28)+i|0,a+=(s^i^n)+e[12]-421815835|0,a=(a<<11|a>>>21)+s|0,n+=(a^s^i)+e[15]+530742520|0,n=(n<<16|n>>>16)+a|0,i+=(n^a^s)+e[2]-995338651|0,i=(i<<23|i>>>9)+n|0,s+=(n^(i|~a))+e[0]-198630844|0,s=(s<<6|s>>>26)+i|0,a+=(i^(s|~n))+e[7]+1126891415|0,a=(a<<10|a>>>22)+s|0,n+=(s^(a|~i))+e[14]-1416354905|0,n=(n<<15|n>>>17)+a|0,i+=(a^(n|~s))+e[5]-57434055|0,i=(i<<21|i>>>11)+n|0,s+=(n^(i|~a))+e[12]+1700485571|0,s=(s<<6|s>>>26)+i|0,a+=(i^(s|~n))+e[3]-1894986606|0,a=(a<<10|a>>>22)+s|0,n+=(s^(a|~i))+e[10]-1051523|0,n=(n<<15|n>>>17)+a|0,i+=(a^(n|~s))+e[1]-2054922799|0,i=(i<<21|i>>>11)+n|0,s+=(n^(i|~a))+e[8]+1873313359|0,s=(s<<6|s>>>26)+i|0,a+=(i^(s|~n))+e[15]-30611744|0,a=(a<<10|a>>>22)+s|0,n+=(s^(a|~i))+e[6]-1560198380|0,n=(n<<15|n>>>17)+a|0,i+=(a^(n|~s))+e[13]+1309151649|0,i=(i<<21|i>>>11)+n|0,s+=(n^(i|~a))+e[4]-145523070|0,s=(s<<6|s>>>26)+i|0,a+=(i^(s|~n))+e[11]-1120210379|0,a=(a<<10|a>>>22)+s|0,n+=(s^(a|~i))+e[2]+718787259|0,n=(n<<15|n>>>17)+a|0,i+=(a^(n|~s))+e[9]-343485551|0,i=(i<<21|i>>>11)+n|0,t[0]=s+t[0]|0,t[1]=i+t[1]|0,t[2]=n+t[2]|0,t[3]=a+t[3]|0}function i(t){var e,s=[];for(e=0;e<64;e+=4)s[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return s}function n(t){var e,s=[];for(e=0;e<64;e+=4)s[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return s}function a(t){var e,n,a,r,o,c,u=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=u;e+=64)s(l,i(t.substring(e-64,e)));for(t=t.substring(e-64),n=t.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(s(l,a),e=0;e<16;e+=1)a[e]=0;return r=8*u,r=r.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),c=parseInt(r[1],16)||0,a[14]=o,a[15]=c,s(l,a),l}function r(t){var e,i,a,r,o,c,u=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=u;e+=64)s(l,n(t.subarray(e-64,e)));for(t=e-64<u?t.subarray(e-64):new Uint8Array(0),i=t.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<i;e+=1)a[e>>2]|=t[e]<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(s(l,a),e=0;e<16;e+=1)a[e]=0;return r=8*u,r=r.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),c=parseInt(r[1],16)||0,a[14]=o,a[15]=c,s(l,a),l}function o(t){var s,i="";for(s=0;s<4;s+=1)i+=e[t>>8*s+4&15]+e[t>>8*s&15];return i}function c(t){var e;for(e=0;e<t.length;e+=1)t[e]=o(t[e]);return t.join("")}function u(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function l(t,e){var s,i=t.length,n=new ArrayBuffer(i),a=new Uint8Array(n);for(s=0;s<i;s+=1)a[s]=t.charCodeAt(s);return e?a:n}function f(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function d(t,e,s){var i=new Uint8Array(t.byteLength+e.byteLength);return i.set(new Uint8Array(t)),i.set(new Uint8Array(e),t.byteLength),s?i:i.buffer}function h(t){var e,s=[],i=t.length;for(e=0;e<i-1;e+=2)s.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,s)}function p(){this.reset()}return"5d41402abc4b2a76b9719d911017c592"!==c(a("hello"))&&function(t,e){var s=(65535&t)+(65535&e),i=(t>>16)+(e>>16)+(s>>16);return i<<16|65535&s},"undefined"===typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(t,e){return t=0|t||0,t<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(s,i){var n,a,r,o,c=this.byteLength,u=e(s,c),l=c;return i!==t&&(l=e(i,c)),u>l?new ArrayBuffer(0):(n=l-u,a=new ArrayBuffer(n),r=new Uint8Array(a),o=new Uint8Array(this,u,n),r.set(o),a)}}(),p.prototype.append=function(t){return this.appendBinary(u(t)),this},p.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,n=this._buff.length;for(e=64;e<=n;e+=64)s(this._hash,i(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},p.prototype.end=function(t){var e,s,i=this._buff,n=i.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n;e+=1)a[e>>2]|=i.charCodeAt(e)<<(e%4<<3);return this._finish(a,n),s=c(this._hash),t&&(s=h(s)),this.reset(),s},p.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},p.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},p.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},p.prototype._finish=function(t,e){var i,n,a,r=e;if(t[r>>2]|=128<<(r%4<<3),r>55)for(s(this._hash,t),r=0;r<16;r+=1)t[r]=0;i=8*this._length,i=i.toString(16).match(/(.*?)(.{0,8})$/),n=parseInt(i[2],16),a=parseInt(i[1],16)||0,t[14]=n,t[15]=a,s(this._hash,t)},p.hash=function(t,e){return p.hashBinary(u(t),e)},p.hashBinary=function(t,e){var s=a(t),i=c(s);return e?h(i):i},p.ArrayBuffer=function(){this.reset()},p.ArrayBuffer.prototype.append=function(t){var e,i=d(this._buff.buffer,t,!0),a=i.length;for(this._length+=t.byteLength,e=64;e<=a;e+=64)s(this._hash,n(i.subarray(e-64,e)));return this._buff=e-64<a?new Uint8Array(i.buffer.slice(e-64)):new Uint8Array(0),this},p.ArrayBuffer.prototype.end=function(t){var e,s,i=this._buff,n=i.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n;e+=1)a[e>>2]|=i[e]<<(e%4<<3);return this._finish(a,n),s=c(this._hash),t&&(s=h(s)),this.reset(),s},p.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.ArrayBuffer.prototype.getState=function(){var t=p.prototype.getState.call(this);return t.buff=f(t.buff),t},p.ArrayBuffer.prototype.setState=function(t){return t.buff=l(t.buff,!0),p.prototype.setState.call(this,t)},p.ArrayBuffer.prototype.destroy=p.prototype.destroy,p.ArrayBuffer.prototype._finish=p.prototype._finish,p.ArrayBuffer.hash=function(t,e){var s=r(new Uint8Array(t)),i=c(s);return e?h(i):i},p}))},"6ab6":function(t,e,s){"use strict";s.r(e);var i=s("fc37"),n=s.n(i);for(var a in i)"default"!==a&&function(t){s.d(e,t,(function(){return i[t]}))}(a);e["default"]=n.a},"728a":function(t,e,s){"use strict";s.r(e);var i=s("16e6"),n=s.n(i);for(var a in i)"default"!==a&&function(t){s.d(e,t,(function(){return i[t]}))}(a);e["default"]=n.a},"737d":function(t,e,s){"use strict";s.r(e);var i=s("90d9"),n=s("fe3d");for(var a in n)"default"!==a&&function(t){s.d(e,t,(function(){return n[t]}))}(a);var r,o=s("f0c5"),c=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"6fb28bc9",null,!1,i["a"],r);e["default"]=c.exports},7852:function(t,e,s){"use strict";var i;s.d(e,"b",(function(){return n})),s.d(e,"c",(function(){return a})),s.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{class:t._$s(0,"c",(t.selectable?"_select ":"")+"_root"),style:t._$s(0,"s",t.containerStyle),attrs:{id:"_root",_i:0}},[t._$s(1,"i",!t.nodes[0])?t._t("default",null,{_i:1}):s("node",{attrs:{childs:t.nodes,opts:[t.lazyLoad,t.loadingImg,t.errorImg,t.showImgMenu],name:"span",_i:2}})],2)},a=[]},"7d26":function(t,e,s){"use strict";s.r(e);var i=s("fa9f"),n=s("5adc");for(var a in n)"default"!==a&&function(t){s.d(e,t,(function(){return n[t]}))}(a);var r,o=s("f0c5"),c=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);e["default"]=c.exports},8189:function(t){t.exports=JSON.parse('{"_from":"@dcloudio/uni-stat@next","_id":"@dcloudio/uni-stat@2.0.1-33420211228002","_inBundle":false,"_integrity":"sha512-JamMcL9IiBoW+UA9gs7N6aGwat+q5Hq9sqAZlP53sp++QBjj+g8XAyTo7hLkZMiB+TxJxwJ3xOzBemtcJspL4w==","_location":"/@dcloudio/uni-stat","_phantomChildren":{},"_requested":{"type":"tag","registry":true,"raw":"@dcloudio/uni-stat@next","name":"@dcloudio/uni-stat","escapedName":"@dcloudio%2funi-stat","scope":"@dcloudio","rawSpec":"next","saveSpec":null,"fetchSpec":"next"},"_requiredBy":["#USER","/","/@dcloudio/vue-cli-plugin-uni"],"_resolved":"https://registry.npmjs.org/@dcloudio/uni-stat/-/uni-stat-2.0.1-33420211228002.tgz","_shasum":"b2826e1afac29ced6ef9e7feecd194bc73dc0832","_spec":"@dcloudio/uni-stat@next","_where":"/Users/guoshengqiang/Documents/hbx-plugins/uniapp-cli","author":"","bugs":{"url":"https://github.com/dcloudio/uni-app/issues"},"bundleDependencies":false,"deprecated":false,"description":"","devDependencies":{"@babel/core":"^7.5.5","@babel/preset-env":"^7.5.5","eslint":"^6.1.0","rollup":"^1.19.3","rollup-plugin-babel":"^4.3.3","rollup-plugin-clear":"^2.0.7","rollup-plugin-commonjs":"^10.0.2","rollup-plugin-copy":"^3.1.0","rollup-plugin-eslint":"^7.0.0","rollup-plugin-json":"^4.0.0","rollup-plugin-node-resolve":"^5.2.0","rollup-plugin-replace":"^2.2.0","rollup-plugin-uglify":"^6.0.2"},"files":["dist","package.json","LICENSE"],"gitHead":"638b12e8f1886590d8f16562c14240c354a66bb2","homepage":"https://github.com/dcloudio/uni-app#readme","license":"Apache-2.0","main":"dist/index.js","name":"@dcloudio/uni-stat","repository":{"type":"git","url":"git+https://github.com/dcloudio/uni-app.git","directory":"packages/uni-stat"},"scripts":{"build":"NODE_ENV=production rollup -c rollup.config.js","dev":"NODE_ENV=development rollup -w -c rollup.config.js"},"version":"2.0.1-33420211228002"}')},"851d":function(t,e){var s=function(t){var e=t.url,s=t.method,i=void 0===s?"GET":s,n=t.data,a=t.header;return new Promise((function(t,s){uni.request({url:e,method:i,data:n,header:a,success:function(e){t(e.data)},fail:function(t){s(t)}})}))};t.exports={flirt:s}},8816:function(t,e,s){"use strict";s.d(e,"b",(function(){return n})),s.d(e,"c",(function(){return a})),s.d(e,"a",(function(){return i}));var i={eliseAudio:s("7d26").default},n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{class:t._$s(0,"c","_block _"+t.name+" "+t.attrs.class),style:t._$s(0,"s",t.attrs.style),attrs:{id:t._$s(0,"a-id",t.attrs.id),_i:0}},[t._l(t._$s(1,"f",{forItems:t.childs}),(function(e,i,n,a){return[t._$s("2-"+a,"i","img"===e.name&&(t.opts[1]&&!t.ctrl[i]||t.ctrl[i]<0))?s("image",{key:t._$s(1,"f",{forIndex:n,keyIndex:0,key:i+"_0"}),staticClass:t._$s("2-"+a,"sc","_img"),style:t._$s("2-"+a,"s",e.attrs.style),attrs:{src:t._$s("2-"+a,"a-src",t.ctrl[i]<0?t.opts[2]:t.opts[1]),_i:"2-"+a}}):t._e(),t._$s("3-"+a,"i","img"===e.name)?s("img",{key:t._$s(1,"f",{forIndex:n,keyIndex:1,key:i+"_1"}),class:t._$s("3-"+a,"c","_img "+e.attrs.class),style:t._$s("3-"+a,"s",(-1===t.ctrl[i]?"display:none;":"")+e.attrs.style),attrs:{id:t._$s("3-"+a,"a-id",e.attrs.id),src:t._$s("3-"+a,"a-src",e.attrs.src||(t.ctrl.load?e.attrs["data-src"]:"")),"data-i":t._$s("3-"+a,"a-data-i",i),_i:"3-"+a},on:{load:t.imgLoad,error:t.mediaError,longpress:t.imgLongTap,click:function(e){return e.stopPropagation(),t.imgTap(e)}}}):t._$s("4-"+a,"e",e.text)?s("text",{key:t._$s(1,"f",{forIndex:n,keyIndex:-1,key:"1--1"+a}),attrs:{"user-select":t._$s("4-"+a,"a-user-select",e.us),_i:"4-"+a}},[t._v(t._$s("4-"+a,"t0-0",t._s(e.text)))]):t._$s("5-"+a,"e","br"===e.name)?s("text",{key:t._$s(1,"f",{forIndex:n,keyIndex:-1,key:"1--1"+a})}):t._$s("6-"+a,"e","a"===e.name)?s("view",{key:t._$s(1,"f",{forIndex:n,keyIndex:-1,key:"1--1"+a}),class:t._$s("6-"+a,"c",(e.attrs.href?"_a ":"")+e.attrs.class),style:t._$s("6-"+a,"s","display:inline;"+e.attrs.style),attrs:{id:t._$s("6-"+a,"a-id",e.attrs.id),"data-i":t._$s("6-"+a,"a-data-i",i),_i:"6-"+a},on:{click:function(e){return e.stopPropagation(),t.linkTap(e)}}},[s("node",{attrs:{name:"span",childs:e.children,opts:t.opts,_i:"7-"+a}})],1):t._$s("8-"+a,"e",e.html)?s("view",{key:t._$s(1,"f",{forIndex:n,keyIndex:-1,key:"1--1"+a}),class:t._$s("8-"+a,"c","_video "+e.attrs.class),style:t._$s("8-"+a,"s",e.attrs.style),attrs:{id:t._$s("8-"+a,"a-id",e.attrs.id),_i:"8-"+a},domProps:{innerHTML:t._s(t._$s("8-"+a,"v-html",e.html))}}):t._$s("9-"+a,"e","iframe"===e.name)?s("iframe",{key:t._$s(1,"f",{forIndex:n,keyIndex:-1,key:"1--1"+a}),style:t._$s("9-"+a,"s",e.attrs.style),attrs:{allowfullscreen:t._$s("9-"+a,"a-allowfullscreen",e.attrs.allowfullscreen),frameborder:t._$s("9-"+a,"a-frameborder",e.attrs.frameborder),src:t._$s("9-"+a,"a-src",e.attrs.src),_i:"9-"+a}}):t._$s("10-"+a,"e","embed"===e.name)?s("embed",{key:t._$s(1,"f",{forIndex:n,keyIndex:-1,key:"1--1"+a}),style:t._$s("10-"+a,"s",e.attrs.style),attrs:{src:t._$s("10-"+a,"a-src",e.attrs.src),_i:"10-"+a}}):t._$s("11-"+a,"e","audio"===e.name)?s("elise-audio",{key:t._$s(1,"f",{forIndex:n,keyIndex:-1,key:"1--1"+a}),attrs:{audioId:e.attrs.id,url:e.src[t.ctrl[i]||0],audioColor:"#E0E0E0",_i:"11-"+a}}):t._$s("12-"+a,"e","table"===e.name&&e.c||"li"===e.name)?s("view",{key:t._$s(1,"f",{forIndex:n,keyIndex:-1,key:"1--1"+a}),class:t._$s("12-"+a,"c","_"+e.name+" "+e.attrs.class),style:t._$s("12-"+a,"s",e.attrs.style),attrs:{id:t._$s("12-"+a,"a-id",e.attrs.id),_i:"12-"+a}},[t._$s("13-"+a,"i","li"===e.name)?s("node",{attrs:{childs:e.children,opts:t.opts,_i:"13-"+a}}):t._l(t._$s(14,"f",{forItems:e.children}),(function(e,i,n,r){return s("view",{key:t._$s(14,"f",{forIndex:n,key:i}),class:t._$s("14-"+a+r,"c","_"+e.name+" "+e.attrs.class),style:t._$s("14-"+a+r,"s",e.attrs.style),attrs:{_i:"14-"+a+r}},[t._$s("15-"+a+r,"i","td"===e.name||"th"===e.name)?s("node",{attrs:{childs:e.children,opts:t.opts,_i:"15-"+a+r}}):t._l(t._$s(16,"f",{forItems:e.children}),(function(e,i,n,o){return[t._$s("17-"+a+r+o,"i","td"===e.name||"th"===e.name)?s("view",{key:t._$s(16,"f",{forIndex:n,keyIndex:0,key:i+"_0"}),class:t._$s("17-"+a+r+o,"c","_"+e.name+" "+e.attrs.class),style:t._$s("17-"+a+r+o,"s",e.attrs.style),attrs:{_i:"17-"+a+r+o}},[s("node",{attrs:{childs:e.children,opts:t.opts,_i:"18-"+a+r+o}})],1):s("view",{key:t._$s(16,"f",{forIndex:n,keyIndex:-1,key:"16--1"+o}),class:t._$s("19-"+a+r+o,"c","_"+e.name+" "+e.attrs.class),style:t._$s("19-"+a+r+o,"s",e.attrs.style),attrs:{_i:"19-"+a+r+o}},t._l(t._$s("20-"+a+"-"+r+"-"+o,"f",{forItems:e.children}),(function(e,i,n,c){return s("view",{key:t._$s("20-"+a+"-"+r+"-"+o,"f",{forIndex:n,key:i}),class:t._$s("20-"+a+r+o+"-"+c,"c","_"+e.name+" "+e.attrs.class),style:t._$s("20-"+a+r+o+"-"+c,"s",e.attrs.style),attrs:{_i:"20-"+a+r+o+"-"+c}},[s("node",{attrs:{childs:e.children,opts:t.opts,_i:"21-"+a+r+o+"-"+c}})],1)})),0)]}))],2)}))],2):t._$s("22-"+a,"e",t.handler.use(e))?s("rich-text",{key:t._$s(1,"f",{forIndex:n,keyIndex:-1,key:"1--1"+a}),style:t._$s("22-"+a,"s",e.f),attrs:{id:t._$s("22-"+a,"a-id",e.attrs.id),nodes:t._$s("22-"+a,"a-nodes",[e]),_i:"22-"+a}}):t._$s("23-"+a,"e",2===e.c)?s("view",{key:t._$s(1,"f",{forIndex:n,keyIndex:-1,key:"1--1"+a}),class:t._$s("23-"+a,"c","_block _"+e.name+" "+e.attrs.class),style:t._$s("23-"+a,"s",e.f+";"+e.attrs.style),attrs:{id:t._$s("23-"+a,"a-id",e.attrs.id),_i:"23-"+a}},t._l(t._$s("24-"+a,"f",{forItems:e.children}),(function(e,i,n,r){return s("node",{key:t._$s("24-"+a,"f",{forIndex:n,key:i}),style:t._$s("24-"+a+"-"+r,"s",e.f),attrs:{name:e.name,attrs:e.attrs,childs:e.children,opts:t.opts,_i:"24-"+a+"-"+r}})})),1):s("node",{key:t._$s(1,"f",{forIndex:n,keyIndex:-1,key:"1--1"+a}),style:t._$s("25-"+a,"s",e.f),attrs:{name:e.name,attrs:e.attrs,childs:e.children,opts:t.opts,_i:"25-"+a}})]}))],2)},a=[]},"8b4c":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(s("7d26")),n=a(s("cd1a"));function a(t){return t&&t.__esModule?t:{default:t}}var r={name:"node",options:{},data:function(){return{ctrl:{}}},props:{name:String,attrs:{type:Object,default:function(){return{}}},childs:Array,opts:Array},components:{node:n.default,eliseAudio:i.default},mounted:function(){var t=this;if(this.$nextTick((function(){for(t.root=t.$parent;"mp-html"!==t.root.$options.name;t.root=t.root.$parent);})),this.opts[0]){var e;for(e=this.childs.length;e--;)if("img"===this.childs[e].name)break;-1!==e&&(this.observer=uni.createIntersectionObserver(this).relativeToViewport({top:500,bottom:500}),this.observer.observe("._img",(function(e){e.intersectionRatio&&(t.$set(t.ctrl,"load",1),t.observer.disconnect())})))}},beforeDestroy:function(){this.observer&&this.observer.disconnect()},methods:{play:function(t){},imgTap:function(t){var e=this.childs[t.currentTarget.dataset.i];e.a?this.linkTap(e.a):e.attrs.ignore||(e.attrs.src=e.attrs.src||e.attrs["data-src"],this.root.$emit("imgtap",e.attrs),this.root.previewImg&&uni.previewImage({current:parseInt(e.attrs.i),urls:this.root.imgList}))},imgLongTap:function(t){var e=this,s=this.childs[t.currentTarget.dataset.i].attrs;this.opts[3]&&!s.ignore&&uni.showActionSheet({itemList:["\u4fdd\u5b58\u56fe\u7247"],success:function(){var t=function(t){uni.saveImageToPhotosAlbum({filePath:t,success:function(){uni.showToast({title:"\u4fdd\u5b58\u6210\u529f"})}})};e.root.imgList[s.i].startsWith("http")?uni.downloadFile({url:e.root.imgList[s.i],success:function(e){return t(e.tempFilePath)}}):t(e.root.imgList[s.i])}})},imgLoad:function(t){var e=t.currentTarget.dataset.i;(this.opts[1]&&!this.ctrl[e]||-1===this.ctrl[e])&&this.$set(this.ctrl,e,1)},linkTap:function(t){var e=t.currentTarget?this.childs[t.currentTarget.dataset.i]:{},s=e.attrs||t,i=s.href;this.root.$emit("linktap",Object.assign({innerText:this.root.getText(e.children||[])},s)),i&&("#"===i[0]?this.root.navigateTo(i.substring(1)).catch((function(){})):i.split("?")[0].includes("://")?this.root.copyLink&&plus.runtime.openWeb(i):uni.navigateTo({url:i,fail:function(){uni.switchTab({url:i,fail:function(){}})}}))},mediaError:function(t){var e=t.currentTarget.dataset.i,s=this.childs[e];if("video"===s.name||"audio"===s.name){var i=(this.ctrl[e]||0)+1;if(i>s.src.length&&(i=0),i<s.src.length)return void this.$set(this.ctrl,e,i)}else"img"===s.name&&this.opts[2]&&this.$set(this.ctrl,e,-1);this.root&&this.root.$emit("error",{source:s.name,attrs:s.attrs,errMsg:t.detail.errMsg})}}};e.default=r},"8bbf":function(t,e){t.exports=Vue},"90d9":function(t,e,s){"use strict";var i;s.d(e,"b",(function(){return n})),s.d(e,"c",(function(){return a})),s.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:t._$s(0,"sc","redpacketBox"),attrs:{_i:0}},[s("view",{staticClass:t._$s(1,"sc","rpTitle"),attrs:{_i:1}},[s("view",{staticClass:t._$s(2,"sc","borderLine"),style:t._$s(2,"s",{left:25*t.index+2.5+"%"}),attrs:{_i:2}}),s("view",{staticClass:t._$s(3,"sc","rpItem"),class:t._$s(3,"c",0==t.index?"active":""),attrs:{_i:3},on:{click:function(e){return t.changeType(0,"random")}}}),s("view",{staticClass:t._$s(4,"sc","rpItem"),class:t._$s(4,"c",1==t.index?"active":""),attrs:{_i:4},on:{click:function(e){return t.changeType(1,"average")}}}),s("view",{staticClass:t._$s(5,"sc","rpItem"),class:t._$s(5,"c",2==t.index?"active":""),attrs:{_i:5},on:{click:function(e){return t.changeType(2,"specify")}}}),s("view",{staticClass:t._$s(6,"sc","rpItem"),class:t._$s(6,"c",3==t.index?"active":""),attrs:{_i:6},on:{click:function(e){return t.changeType(3,"heartbeat")}}})]),s("view",{staticClass:t._$s(7,"sc","rpForm"),style:t._$s(7,"s",{left:100*-t.index+"vw"}),attrs:{_i:7}},[s("view",{staticClass:t._$s(8,"sc","rpFromItem"),attrs:{_i:8}},[s("view",{staticClass:t._$s(9,"sc","formItem"),attrs:{_i:9}},[s("view",{staticClass:t._$s(10,"sc","rpLabel"),attrs:{_i:10}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.redpacket.money,expression:"redpacket.money"}],staticClass:t._$s(11,"sc","rpInput"),attrs:{_i:11},domProps:{value:t._$s(11,"v-model",t.redpacket.money)},on:{input:function(e){e.target.composing||t.$set(t.redpacket,"money",e.target.value)}}})]),s("view",{staticClass:t._$s(12,"sc","formItem"),attrs:{_i:12}},[s("view",{staticClass:t._$s(13,"sc","rpLabel"),attrs:{_i:13}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.redpacket.count,expression:"redpacket.count"}],staticClass:t._$s(14,"sc","rpInput"),attrs:{_i:14},domProps:{value:t._$s(14,"v-model",t.redpacket.count)},on:{input:function(e){e.target.composing||t.$set(t.redpacket,"count",e.target.value)}}})]),s("view",{staticClass:t._$s(15,"sc","formItem"),attrs:{_i:15}},[s("view",{staticClass:t._$s(16,"sc","rpLabel"),attrs:{_i:16}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.redpacket.msg,expression:"redpacket.msg"}],staticClass:t._$s(17,"sc","rpInput"),attrs:{placeholder:t._$s(17,"a-placeholder",t.defaultRedpackWord["random"]),_i:17},domProps:{value:t._$s(17,"v-model",t.redpacket.msg)},on:{input:function(e){e.target.composing||t.$set(t.redpacket,"msg",e.target.value)}}})])]),s("view",{staticClass:t._$s(18,"sc","rpFromItem"),attrs:{_i:18}},[s("view",{staticClass:t._$s(19,"sc","formItem"),attrs:{_i:19}},[s("view",{staticClass:t._$s(20,"sc","rpLabel"),attrs:{_i:20}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.redpacket.money,expression:"redpacket.money"}],staticClass:t._$s(21,"sc","rpInput"),attrs:{_i:21},domProps:{value:t._$s(21,"v-model",t.redpacket.money)},on:{input:function(e){e.target.composing||t.$set(t.redpacket,"money",e.target.value)}}})]),s("view",{staticClass:t._$s(22,"sc","formItem"),attrs:{_i:22}},[s("view",{staticClass:t._$s(23,"sc","rpLabel"),attrs:{_i:23}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.redpacket.count,expression:"redpacket.count"}],staticClass:t._$s(24,"sc","rpInput"),attrs:{_i:24},domProps:{value:t._$s(24,"v-model",t.redpacket.count)},on:{input:function(e){e.target.composing||t.$set(t.redpacket,"count",e.target.value)}}})]),s("view",{staticClass:t._$s(25,"sc","formItem"),attrs:{_i:25}},[s("view",{staticClass:t._$s(26,"sc","rpLabel"),attrs:{_i:26}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.redpacket.msg,expression:"redpacket.msg"}],staticClass:t._$s(27,"sc","rpInput"),attrs:{placeholder:t._$s(27,"a-placeholder",t.defaultRedpackWord["average"]),_i:27},domProps:{value:t._$s(27,"v-model",t.redpacket.msg)},on:{input:function(e){e.target.composing||t.$set(t.redpacket,"msg",e.target.value)}}})])]),s("view",{staticClass:t._$s(28,"sc","rpFromItem"),attrs:{_i:28}},[s("view",{staticClass:t._$s(29,"sc","formItem"),attrs:{_i:29}},[s("view",{staticClass:t._$s(30,"sc","rpLabel"),attrs:{_i:30}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.redpacket.money,expression:"redpacket.money"}],staticClass:t._$s(31,"sc","rpInput"),attrs:{_i:31},domProps:{value:t._$s(31,"v-model",t.redpacket.money)},on:{input:function(e){e.target.composing||t.$set(t.redpacket,"money",e.target.value)}}})]),s("view",{staticClass:t._$s(32,"sc","formItem no-flex"),attrs:{_i:32}},[s("view",{staticClass:t._$s(33,"sc","formItem"),attrs:{_i:33}},[s("view",{staticClass:t._$s(34,"sc","rpLabel"),attrs:{_i:34}}),s("view",{staticClass:t._$s(35,"sc","rpInput avatarItemBox"),attrs:{_i:35}},t._l(t._$s(36,"f",{forItems:t.checkedUserAvatar}),(function(e,i,n,a){return s("view",{key:t._$s(36,"f",{forIndex:n,key:i}),staticClass:t._$s("36-"+a,"sc","avatarItem"),attrs:{_i:"36-"+a}},[s("image",{staticClass:t._$s("37-"+a,"sc","avatarItem"),attrs:{src:t._$s("37-"+a,"a-src",e),_i:"37-"+a}})])})),0)]),s("view",{staticClass:t._$s(38,"sc","userListBox"),attrs:{_i:38}},[s("checkbox-group",{staticClass:t._$s(39,"sc","userList"),attrs:{_i:39},on:{change:t.selectUser}},t._l(t._$s(40,"f",{forItems:t.users}),(function(e,i,n,a){return s("label",{key:t._$s(40,"f",{forIndex:n,key:i}),staticClass:t._$s("40-"+a,"sc","userItem"),attrs:{_i:"40-"+a}},[s("view",[s("checkbox",{attrs:{value:t._$s("42-"+a,"a-value",e.userName+","+e.userAvatarURL),checked:t._$s("42-"+a,"a-checked",e.checked),_i:"42-"+a}})]),s("view",[t._v(t._$s("43-"+a,"t0-0",t._s(e.userName)))])])})),0)])]),s("view",{staticClass:t._$s(44,"sc","formItem"),attrs:{_i:44}},[s("view",{staticClass:t._$s(45,"sc","rpLabel"),attrs:{_i:45}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.redpacket.count,expression:"redpacket.count"}],staticClass:t._$s(46,"sc","rpInput"),attrs:{_i:46},domProps:{value:t._$s(46,"v-model",t.redpacket.count)},on:{input:function(e){e.target.composing||t.$set(t.redpacket,"count",e.target.value)}}})]),s("view",{staticClass:t._$s(47,"sc","formItem"),attrs:{_i:47}},[s("view",{staticClass:t._$s(48,"sc","rpLabel"),attrs:{_i:48}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.redpacket.msg,expression:"redpacket.msg"}],staticClass:t._$s(49,"sc","rpInput"),attrs:{placeholder:t._$s(49,"a-placeholder",t.defaultRedpackWord["specify"]),_i:49},domProps:{value:t._$s(49,"v-model",t.redpacket.msg)},on:{input:function(e){e.target.composing||t.$set(t.redpacket,"msg",e.target.value)}}})])]),s("view",{staticClass:t._$s(50,"sc","rpFromItem"),attrs:{_i:50}},[s("view",{staticClass:t._$s(51,"sc","formItem"),attrs:{_i:51}},[s("view",{staticClass:t._$s(52,"sc","rpLabel"),attrs:{_i:52}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.redpacket.money,expression:"redpacket.money"}],staticClass:t._$s(53,"sc","rpInput"),attrs:{_i:53},domProps:{value:t._$s(53,"v-model",t.redpacket.money)},on:{input:function(e){e.target.composing||t.$set(t.redpacket,"money",e.target.value)}}})]),s("view",{staticClass:t._$s(54,"sc","formItem"),attrs:{_i:54}},[s("view",{staticClass:t._$s(55,"sc","rpLabel"),attrs:{_i:55}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.redpacket.count,expression:"redpacket.count"}],staticClass:t._$s(56,"sc","rpInput"),attrs:{_i:56},domProps:{value:t._$s(56,"v-model",t.redpacket.count)},on:{input:function(e){e.target.composing||t.$set(t.redpacket,"count",e.target.value)}}})]),s("view",{staticClass:t._$s(57,"sc","formItem"),attrs:{_i:57}},[s("view",{staticClass:t._$s(58,"sc","rpLabel"),attrs:{_i:58}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.redpacket.msg,expression:"redpacket.msg"}],staticClass:t._$s(59,"sc","rpInput"),attrs:{placeholder:t._$s(59,"a-placeholder",t.defaultRedpackWord["heartbeat"]),_i:59},domProps:{value:t._$s(59,"v-model",t.redpacket.msg)},on:{input:function(e){e.target.composing||t.$set(t.redpacket,"msg",e.target.value)}}})])])]),s("view",{staticClass:t._$s(60,"sc","btnGroup"),attrs:{_i:60}},[s("view",{staticClass:t._$s(61,"sc","btn warning"),attrs:{_i:61},on:{click:function(e){return t.send(!1)}}}),s("view",{staticClass:t._$s(62,"sc","btn success"),attrs:{_i:62},on:{click:function(e){return t.send(!0)}}})])])},a=[]},"921b":function(t,e,s){"use strict";var i=s("8189");function n(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},a(t,e)}function r(t){var e=u();return function(){var s,i=l(t);if(e){var n=l(this).constructor;s=Reflect.construct(i,arguments,n)}else s=i.apply(this,arguments);return o(this,s)}}function o(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,s){return e&&d(t.prototype,e),s&&d(t,s),t}function p(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var g=i.version,v="https://tongji.dcloud.io/uni/stat",m="https://tongji.dcloud.io/uni/stat.gif",_=1800,y=300,w=10,b=864e5,$=s("fa81").default||s("fa81"),k="__DC_STAT_UUID",S="__DC_UUID_VALUE";function x(){var t="";if("n"===N()){try{t=plus.runtime.getDCloudId()}catch(e){t=""}return t}try{t=uni.getStorageSync(k)}catch(e){t=S}if(!t){t=Date.now()+""+Math.floor(1e7*Math.random());try{uni.setStorageSync(k,t)}catch(e){uni.setStorageSync(k,S)}}return t}var C=function(t){var e=Object.keys(t),s=e.sort(),i={},n="";for(var a in s)i[s[a]]=t[s[a]],n+=s[a]+"="+t[s[a]]+"&";return{sign:"",options:n.substr(0,n.length-1)}},I=function(t){var e="";for(var s in t)e+=s+"="+t[s]+"&";return e.substr(0,e.length-1)},T=function(){return parseInt((new Date).getTime()/1e3)},N=function(){var t,e=["y","a","p","mp-ali"],s=(t={"app-plus":"n",h5:"h5","mp-weixin":"wx"},p(t,e.reverse().join(""),"ali"),p(t,"mp-baidu","bd"),p(t,"mp-toutiao","tt"),p(t,"mp-qq","qq"),p(t,"quickapp-native","qn"),p(t,"mp-kuaishou","ks"),t);return s["app-plus"]},P=function(){var t="";return"wx"!==N()&&"qq"!==N()||uni.canIUse("getAccountInfoSync")&&(t=uni.getAccountInfoSync().miniProgram.appId||""),t},O=function(){return"n"===N()?plus.runtime.version:""},L=function(){var t=N(),e="";return"n"===t&&(e=plus.runtime.channel),e},D=function(t){var e=N(),s="";return t||("wx"===e&&(s=uni.getLaunchOptionsSync().scene),s)},j="First__Visit__Time",A="Last__Visit__Time",R=function(){var t=uni.getStorageSync(j),e=0;return t?e=t:(e=T(),uni.setStorageSync(j,e),uni.removeStorageSync(A)),e},E=function(){var t=uni.getStorageSync(A),e=0;return e=t||"",uni.setStorageSync(A,T()),e},M="__page__residence__time",B=0,U=0,q=function(){return B=T(),"n"===N()&&uni.setStorageSync(M,T()),B},F=function(){return U=T(),"n"===N()&&(B=uni.getStorageSync(M)),U-B},K="Total__Visit__Count",V=function(){var t=uni.getStorageSync(K),e=1;return t&&(e=t,e++),uni.setStorageSync(K,e),e},J=function(t){var e={};for(var s in t)e[s]=encodeURIComponent(t[s]);return e},H=0,G=0,z=function(){var t=(new Date).getTime();return H=t,G=0,t},W=function(){var t=(new Date).getTime();return G=t,t},Y=function(t){var e=0;if(0!==H&&(e=G-H),e=parseInt(e/1e3),e=e<1?1:e,"app"===t){var s=e>y;return{residenceTime:e,overtime:s}}if("page"===t){var i=e>_;return{residenceTime:e,overtime:i}}return{residenceTime:e}},X=function(){var t=getCurrentPages(),e=t[t.length-1];if(!e)return"";var s=e.$vm;return"bd"===N()?s.$mp&&s.$mp.page.is:s.$scope&&s.$scope.route||s.$mp&&s.$mp.page.route},Q=function(t){var e=getCurrentPages(),s=e[e.length-1];if(!s)return"";var i=s.$vm,n=t._query,a=n&&"{}"!==JSON.stringify(n)?"?"+JSON.stringify(n):"";return t._query="","bd"===N()?i.$mp&&i.$mp.page.is+a:i.$scope&&i.$scope.route+a||i.$mp&&i.$mp.page.route+a},Z=function(t){return!!("page"===t.mpType||t.$mp&&"page"===t.$mp.mpType||"page"===t.$options.mpType)},tt=function(t,e){return t?"string"!==typeof t?(console.error("uni.report [eventName] \u53c2\u6570\u7c7b\u578b\u9519\u8bef,\u53ea\u80fd\u4e3a String \u7c7b\u578b"),!0):t.length>255?(console.error("uni.report [eventName] \u53c2\u6570\u957f\u5ea6\u4e0d\u80fd\u5927\u4e8e 255"),!0):"string"!==typeof e&&"object"!==typeof e?(console.error("uni.report [options] \u53c2\u6570\u7c7b\u578b\u9519\u8bef,\u53ea\u80fd\u4e3a String \u6216 Object \u7c7b\u578b"),!0):"string"===typeof e&&e.length>255?(console.error("uni.report [options] \u53c2\u6570\u957f\u5ea6\u4e0d\u80fd\u5927\u4e8e 255"),!0):"title"===t&&"string"!==typeof e?(console.error("uni.report [eventName] \u53c2\u6570\u4e3a title \u65f6\uff0c[options] \u53c2\u6570\u53ea\u80fd\u4e3a String \u7c7b\u578b"),!0):void 0:(console.error("uni.report \u7f3a\u5c11 [eventName] \u53c2\u6570"),!0)},et="Report_Data_Time",st="Report_Status",it=function(){return new Promise((function(t,e){var s="",i=(new Date).getTime(),n=b,a=1;try{s=uni.getStorageSync(et),a=uni.getStorageSync(st)}catch(r){s="",a=1}""!==a?(1===a&&t(),s||(uni.setStorageSync(et,i),s=i),i-s>n&&nt((function(t){var e=t.enable;uni.setStorageSync(et,i),uni.setStorageSync(st,e)}))):nt((function(e){var s=e.enable;uni.setStorageSync(et,i),uni.setStorageSync(st,s),1===s&&t()}))}))},nt=function(t){var e={usv:g,conf:JSON.stringify({ak:$.appid})};uni.request({url:v,method:"GET",data:e,success:function(e){var s=e.data;0===s.ret&&"function"===typeof t&&t({enable:s.enable})},fail:function(e){var s=1;try{s=uni.getStorageSync(st)}catch(e){s=1}""===s&&(s=1),"function"===typeof t&&t({enable:s})}})},at=s("0f43").default,rt=s("fa81").default||s("fa81"),ot=uni.getSystemInfoSync(),ct=function(){function t(){f(this,t),this.self="",this._retry=0,this._platform="",this._query={},this._navigationBarTitle={config:"",page:"",report:"",lt:""},this._operatingTime=0,this._reportingRequestData={1:[],11:[]},this.__prevent_triggering=!1,this.__licationHide=!1,this.__licationShow=!1,this._lastPageRoute="",this.statData={uuid:x(),ut:N(),mpn:P(),ak:rt.appid,usv:g,v:O(),ch:L(),cn:"",pn:"",ct:"",t:T(),tt:"",p:"android"===ot.platform?"a":"i",brand:ot.brand||"",md:ot.model,sv:ot.system.replace(/(Android|iOS)\s/,""),mpsdk:ot.SDKVersion||"",mpv:ot.version||"",lang:ot.language,pr:ot.pixelRatio,ww:ot.windowWidth,wh:ot.windowHeight,sw:ot.screenWidth,sh:ot.screenHeight}}return h(t,[{key:"getIsReportData",value:function(){return it()}},{key:"_applicationShow",value:function(){if(this.__licationHide){W();var t=Y("app");if(t.overtime){var e={path:this._lastPageRoute,scene:this.statData.sc};this._sendReportRequest(e)}this.__licationHide=!1}}},{key:"_applicationHide",value:function(t,e){this.__licationHide=!0,W();var s=Y();z();var i=Q(this);this._sendHideRequest({urlref:i,urlref_ts:s.residenceTime},e)}},{key:"_pageShow",value:function(){var t=Q(this),e=X();if(this._navigationBarTitle.config=at&&at.pages[e]&&at.pages[e].titleNView&&at.pages[e].titleNView.titleText||at&&at.pages[e]&&at.pages[e].navigationBarTitleText||"",this.__licationShow)return z(),this.__licationShow=!1,void(this._lastPageRoute=t);W(),this._lastPageRoute=t;var s=Y("page");if(s.overtime){var i={path:this._lastPageRoute,scene:this.statData.sc};this._sendReportRequest(i)}z()}},{key:"_pageHide",value:function(){if(!this.__licationHide){W();var t=Y("page");return this._sendPageRequest({url:this._lastPageRoute,urlref:this._lastPageRoute,urlref_ts:t.residenceTime}),void(this._navigationBarTitle={config:"",page:"",report:"",lt:""})}}},{key:"_login",value:function(){this._sendEventRequest({key:"login"},0)}},{key:"_share",value:function(){this._sendEventRequest({key:"share"},0)}},{key:"_payment",value:function(t){this._sendEventRequest({key:t},0)}},{key:"_sendReportRequest",value:function(t){this._navigationBarTitle.lt="1";var e=t.query&&"{}"!==JSON.stringify(t.query)?"?"+JSON.stringify(t.query):"";this.statData.lt="1",this.statData.url=t.path+e||"",this.statData.t=T(),this.statData.sc=D(t.scene),this.statData.fvts=R(),this.statData.lvts=E(),this.statData.tvc=V(),"n"===N()?this.getProperty():this.getNetworkInfo()}},{key:"_sendPageRequest",value:function(t){var e=t.url,s=t.urlref,i=t.urlref_ts;this._navigationBarTitle.lt="11";var n={ak:this.statData.ak,uuid:this.statData.uuid,lt:"11",ut:this.statData.ut,url:e,tt:this.statData.tt,urlref:s,urlref_ts:i,ch:this.statData.ch,usv:this.statData.usv,t:T(),p:this.statData.p};this.request(n)}},{key:"_sendHideRequest",value:function(t,e){var s=t.urlref,i=t.urlref_ts,n={ak:this.statData.ak,uuid:this.statData.uuid,lt:"3",ut:this.statData.ut,urlref:s,urlref_ts:i,ch:this.statData.ch,usv:this.statData.usv,t:T(),p:this.statData.p};this.request(n,e)}},{key:"_sendEventRequest",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.key,s=void 0===e?"":e,i=t.value,n=void 0===i?"":i,a=this._lastPageRoute,r={ak:this.statData.ak,uuid:this.statData.uuid,lt:"21",ut:this.statData.ut,url:a,ch:this.statData.ch,e_n:s,e_v:"object"===typeof n?JSON.stringify(n):n.toString(),usv:this.statData.usv,t:T(),p:this.statData.p};this.request(r)}},{key:"getNetworkInfo",value:function(){var t=this;uni.getNetworkType({success:function(e){t.statData.net=e.networkType,t.getLocation()}})}},{key:"getProperty",value:function(){var t=this;plus.runtime.getProperty(plus.runtime.appid,(function(e){t.statData.v=e.version||"",t.getNetworkInfo()}))}},{key:"getLocation",value:function(){var t=this;rt.getLocation?uni.getLocation({type:"wgs84",geocode:!0,success:function(e){e.address&&(t.statData.cn=e.address.country,t.statData.pn=e.address.province,t.statData.ct=e.address.city),t.statData.lat=e.latitude,t.statData.lng=e.longitude,t.request(t.statData)}}):(this.statData.lat=0,this.statData.lng=0,this.request(this.statData))}},{key:"request",value:function(t,e){var s=this,i=T(),n=this._navigationBarTitle;t.ttn=n.page,t.ttpj=n.config,t.ttc=n.report;var a=this._reportingRequestData;if("n"===N()&&(a=uni.getStorageSync("__UNI__STAT__DATA")||{}),a[t.lt]||(a[t.lt]=[]),a[t.lt].push(t),"n"===N()&&uni.setStorageSync("__UNI__STAT__DATA",a),!(F()<w)||e){var r=this._reportingRequestData;"n"===N()&&(r=uni.getStorageSync("__UNI__STAT__DATA")),q();var o=[],c=[],u=[],l=function(t){var e=r[t];e.forEach((function(e){var s=I(e);0===t?o.push(s):3===t?u.push(s):c.push(s)}))};for(var f in r)l(f);o.push.apply(o,c.concat(u));var d={usv:g,t:i,requests:JSON.stringify(o)};this._reportingRequestData={},"n"===N()&&uni.removeStorageSync("__UNI__STAT__DATA"),"h5"!==t.ut?"n"!==N()||"a"!==this.statData.p?this._sendRequest(d):setTimeout((function(){s._sendRequest(d)}),200):this.imageRequest(d)}}},{key:"_sendRequest",value:function(t){var e=this;this.getIsReportData().then((function(){uni.request({url:v,method:"POST",data:t,success:function(){},fail:function(s){++e._retry<3&&setTimeout((function(){e._sendRequest(t)}),1e3)}})}))}},{key:"imageRequest",value:function(t){this.getIsReportData().then((function(){var e=new Image,s=C(J(t)).options;e.src=m+"?"+s}))}},{key:"sendEvent",value:function(t,e){tt(t,e)||("title"!==t?this._sendEventRequest({key:t,value:"object"===typeof e?JSON.stringify(e):e},1):this._navigationBarTitle.report=e)}}]),t}(),ut=function(t){n(s,t);var e=r(s);function s(){var t;return f(this,s),t=e.call(this),t.instance=null,"function"===typeof uni.addInterceptor&&(t.addInterceptorInit(),t.interceptLogin(),t.interceptShare(!0),t.interceptRequestPayment()),t}return h(s,null,[{key:"getInstance",value:function(){return this.instance||(this.instance=new s),this.instance}}]),h(s,[{key:"addInterceptorInit",value:function(){var t=this;uni.addInterceptor("setNavigationBarTitle",{invoke:function(e){t._navigationBarTitle.page=e.title}})}},{key:"interceptLogin",value:function(){var t=this;uni.addInterceptor("login",{complete:function(){t._login()}})}},{key:"interceptShare",value:function(t){var e=this;t?uni.addInterceptor("share",{success:function(){e._share()},fail:function(){e._share()}}):e._share()}},{key:"interceptRequestPayment",value:function(){var t=this;uni.addInterceptor("requestPayment",{success:function(){t._payment("pay_success")},fail:function(){t._payment("pay_fail")}})}},{key:"report",value:function(t,e){this.self=e,q(),this.__licationShow=!0,this._sendReportRequest(t,!0)}},{key:"load",value:function(t,e){if(!e.$scope&&!e.$mp){var s=getCurrentPages();e.$scope=s[s.length-1]}this.self=e,this._query=t}},{key:"show",value:function(t){this.self=t,Z(t)?this._pageShow(t):this._applicationShow(t)}},{key:"ready",value:function(t){}},{key:"hide",value:function(t){this.self=t,Z(t)?this._pageHide(t):this._applicationHide(t,!0)}},{key:"error",value:function(t){this._platform;var e="";e=t.message?t.stack:JSON.stringify(t);var s={ak:this.statData.ak,uuid:this.statData.uuid,lt:"31",ut:this.statData.ut,ch:this.statData.ch,mpsdk:this.statData.mpsdk,mpv:this.statData.mpv,v:this.statData.v,em:e,usv:this.statData.usv,t:T(),p:this.statData.p};this.request(s)}}]),s}(ct),lt=ut.getInstance(),ft=!1,dt={onLaunch:function(t){lt.report(t,this)},onReady:function(){lt.ready(this)},onLoad:function(t){if(lt.load(t,this),this.$scope&&this.$scope.onShareAppMessage){var e=this.$scope.onShareAppMessage;this.$scope.onShareAppMessage=function(t){return lt.interceptShare(!1),e.call(this,t)}}},onShow:function(){ft=!1,lt.show(this)},onHide:function(){ft=!0,lt.hide(this)},onUnload:function(){ft?ft=!1:lt.hide(this)},onError:function(t){lt.error(t)}};function ht(){var t=s("8bbf");(t.default||t).mixin(dt),uni.report=function(t,e){lt.sendEvent(t,e)}}ht()},"92f7":function(t,e,s){"use strict";s.r(e);var i=s("06d5"),n=s.n(i);for(var a in i)"default"!==a&&function(t){s.d(e,t,(function(){return i[t]}))}(a);e["default"]=n.a},"96cf":function(t,e){!function(e){"use strict";var s,i=Object.prototype,n=i.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag",u="object"===typeof t,l=e.regeneratorRuntime;if(l)u&&(t.exports=l);else{l=e.regeneratorRuntime=u?t.exports:{},l.wrap=w;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",g={},v={};v[r]=function(){return this};var m=Object.getPrototypeOf,_=m&&m(m(L([])));_&&_!==i&&n.call(_,r)&&(v=_);var y=S.prototype=$.prototype=Object.create(v);k.prototype=y.constructor=S,S.constructor=k,S[c]=k.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===k||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,S):(t.__proto__=S,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(y),t},l.awrap=function(t){return{__await:t}},x(C.prototype),C.prototype[o]=function(){return this},l.AsyncIterator=C,l.async=function(t,e,s,i){var n=new C(w(t,e,s,i));return l.isGeneratorFunction(e)?n:n.next().then((function(t){return t.done?t.value:n.next()}))},x(y),y[c]="Generator",y[r]=function(){return this},y.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var s in t)e.push(s);return e.reverse(),function s(){while(e.length){var i=e.pop();if(i in t)return s.value=i,s.done=!1,s}return s.done=!0,s}},l.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=s)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,n){return o.type="throw",o.arg=t,e.next=i,n&&(e.method="next",e.arg=s),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],o=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var c=n.call(r,"catchLoc"),u=n.call(r,"finallyLoc");if(c&&u){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=t,r.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var s=this.tryEntries[e];if(s.finallyLoc===t)return this.complete(s.completion,s.afterLoc),P(s),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var s=this.tryEntries[e];if(s.tryLoc===t){var i=s.completion;if("throw"===i.type){var n=i.arg;P(s)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:L(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=s),g}}}function w(t,e,s,i){var n=e&&e.prototype instanceof $?e:$,a=Object.create(n.prototype),r=new O(i||[]);return a._invoke=I(t,s,r),a}function b(t,e,s){try{return{type:"normal",arg:t.call(e,s)}}catch(i){return{type:"throw",arg:i}}}function $(){}function k(){}function S(){}function x(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function C(t){function e(s,i,a,r){var o=b(t[s],t,i);if("throw"!==o.type){var c=o.arg,u=c.value;return u&&"object"===typeof u&&n.call(u,"__await")?Promise.resolve(u.__await).then((function(t){e("next",t,a,r)}),(function(t){e("throw",t,a,r)})):Promise.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return e("throw",t,a,r)}))}r(o.arg)}var s;function i(t,i){function n(){return new Promise((function(s,n){e(t,i,s,n)}))}return s=s?s.then(n,n):n()}this._invoke=i}function I(t,e,s){var i=f;return function(n,a){if(i===h)throw new Error("Generator is already running");if(i===p){if("throw"===n)throw a;return D()}s.method=n,s.arg=a;while(1){var r=s.delegate;if(r){var o=T(r,s);if(o){if(o===g)continue;return o}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(i===f)throw i=p,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);i=h;var c=b(t,e,s);if("normal"===c.type){if(i=s.done?p:d,c.arg===g)continue;return{value:c.arg,done:s.done}}"throw"===c.type&&(i=p,s.method="throw",s.arg=c.arg)}}}function T(t,e){var i=t.iterator[e.method];if(i===s){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=s,T(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var n=b(i,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,g;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=s),e.delegate=null,g):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function L(t){if(t){var e=t[r];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function e(){while(++i<t.length)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=s,e.done=!0,e};return a.next=a}}return{next:D}}function D(){return{value:s,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},"96ec":function(t,e,s){"use strict";var i;s.d(e,"b",(function(){return n})),s.d(e,"c",(function(){return a})),s.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:t._$s(0,"sc","content"),attrs:{_i:0}},[s("image",{staticClass:t._$s(1,"sc","logo"),attrs:{_i:1}}),s("view",{staticClass:t._$s(2,"sc","login-form-box"),class:t._$s(2,"c",{show:t.ShowLogin}),attrs:{_i:2}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.nameOrEmail,expression:"nameOrEmail"}],staticClass:t._$s(3,"sc","login-input"),attrs:{_i:3},domProps:{value:t._$s(3,"v-model",t.nameOrEmail)},on:{input:function(e){e.target.composing||(t.nameOrEmail=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userPassword,expression:"userPassword"}],staticClass:t._$s(4,"sc","login-input"),attrs:{_i:4},domProps:{value:t._$s(4,"v-model",t.userPassword)},on:{input:function(e){e.target.composing||(t.userPassword=e.target.value)}}}),s("button",{staticClass:t._$s(5,"sc","login-btn"),attrs:{_i:5},on:{click:t.login}})])])},a=[]},9755:function(t,e,s){"use strict";s.d(e,"b",(function(){return n})),s.d(e,"c",(function(){return a})),s.d(e,"a",(function(){return i}));var i={mpHtml:s("4e23").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","content"),attrs:{_i:0}},[t._$s(1,"i",t.isSocketClose)?i("view",{staticClass:t._$s(1,"sc","SocketCloseMsg"),attrs:{_i:1}},[t._v(t._$s(1,"t0-0",t._s(t.JoinChatTime))),i("text",{staticClass:t._$s(2,"sc","textLink"),attrs:{_i:2},on:{click:function(e){return t.initChat()}}})]):t._e(),t._$s(3,"i",t.content.length>0)?i("view",{staticClass:t._$s(3,"sc","contentBox"),attrs:{_i:3}},[t._l(t._$s(4,"f",{forItems:t.content}),(function(e,s,n,a){return i("view",{key:t._$s(4,"f",{forIndex:n,key:(e.type||"msg")+"_"+e.oId+(e.whoGot||"")}),staticClass:t._$s("4-"+a,"sc","msgInfo"),class:t._$s("4-"+a,"c",{isYou:t.data.userName==e.userName}),attrs:{_i:"4-"+a}},[t._$s("5-"+a,"i","redPacketStatus"!=e.type&&!e.hide)?[t._$s("6-"+a,"i",t.data.userName!=e.userName)?i("image",{staticClass:t._$s("6-"+a,"sc","userAvatar"),attrs:{src:t._$s("6-"+a,"a-src",e.userAvatarURL),_i:"6-"+a},on:{longpress:function(s){return t.atThis(e.userName)},click:function(s){return t.toUser(e.userName)}}}):t._e(),i("view",{staticClass:t._$s("7-"+a,"sc","MsgDetailBox"),attrs:{"data-oid":t._$s("7-"+a,"a-data-oid",e.oId),"data-msg":t._$s("7-"+a,"a-data-msg",e.content),"data-username":t._$s("7-"+a,"a-data-username",e.userName),_i:"7-"+a},on:{longpress:t.longpress}},[i("view",{staticClass:t._$s("8-"+a,"sc","msgBox"),attrs:{_i:"8-"+a}},[t._$s("9-"+a,"i",t.data.userName!=e.userName)?[t._$s("10-"+a,"i",e.userNickname)?i("view",{staticClass:t._$s("10-"+a,"sc","userName"),attrs:{_i:"10-"+a}},[t._v(t._$s("10-"+a,"t0-0",t._s(e.userNickname))+t._$s("10-"+a,"t0-1",t._s(e.userName)))]):i("view",{staticClass:t._$s("11-"+a,"sc","userName"),attrs:{_i:"11-"+a}},[t._v(t._$s("11-"+a,"t0-0",t._s(e.userName)))])]:t._e(),t._$s("12-"+a,"i",e.isMoney)?i("view",{attrs:{_i:"12-"+a},on:{click:function(s){return t.getMoney(e.oId)}}},[i("view",{staticClass:t._$s("13-"+a,"sc","red-packet"),attrs:{_i:"13-"+a}},[i("view",{staticClass:t._$s("14-"+a,"sc","rp-header"),attrs:{_i:"14-"+a}}),i("view",{staticClass:t._$s("15-"+a,"sc","rp-main"),attrs:{_i:"15-"+a}},[i("view",{staticClass:t._$s("16-"+a,"sc","open"),attrs:{_i:"16-"+a}}),i("view",{staticClass:t._$s("17-"+a,"sc","rp-msg"),attrs:{_i:"17-"+a}},[i("view",[t._v(t._$s("18-"+a,"t0-0",t._s(e.content.msg)))]),i("view",[t._v(t._$s("19-"+a,"t0-0",t._s(t.defaultTitle[e.content.type])))])])])])]):i("view",{staticClass:t._$s("20-"+a,"sc","msgContent"),attrs:{_i:"20-"+a}},[i("mp-html",{attrs:{"container-style":"MessageBox","copy-link":!1,content:e.content,"show-img-menu":!1,_i:"21-"+a},on:{load:function(e){return t.scrollToBottom()},ready:function(e){return t.scrollToBottom()},linktap:t.showLink}})],1)],2),t._$s("22-"+a,"i",t.content.length>2&&t.firstMsg.content==t.secondMsg.content&&t.firstMsg.oId==e.oId&&e.userName!=t.data.userName)?i("view",{staticClass:t._$s("22-"+a,"sc","humanNature"),attrs:{_i:"22-"+a},on:{click:function(s){return t.SendMsg(e.content)}}}):t._e()]),t._$s("23-"+a,"i",t.data.userName==e.userName)?i("image",{staticClass:t._$s("23-"+a,"sc","userAvatar"),attrs:{src:t._$s("23-"+a,"a-src",e.userAvatarURL),_i:"23-"+a},on:{click:function(s){return t.toUser(e.userName)}}}):t._e()]:t._e(),t._$s("24-"+a,"i","redPacketStatus"==e.type)?[i("view",{staticClass:t._$s("25-"+a,"sc","redPacketinfo"),attrs:{_i:"25-"+a}},[t._v(t._$s("25-"+a,"t0-0",t._s(e.whoGot))+t._$s("25-"+a,"t0-1",t._s(e.whoGive))),i("view",{attrs:{_i:"26-"+a},on:{click:function(s){return t.getMoney(e.oId)}}}),t._v(t._$s("25-"+a,"t2-0",t._s(e.got))+t._$s("25-"+a,"t2-1",t._s(e.count)))])]:t._e()],2)})),i("view",{attrs:{id:"BottomView",_i:27}})],2):t._e(),i("view",{staticClass:t._$s(28,"sc","sendBox"),attrs:{_i:28}},[i("view",{staticClass:t._$s(29,"sc","livenessLine"),style:t._$s(29,"s",{width:t.liveness+"%"}),attrs:{_i:29}}),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],staticClass:t._$s(30,"sc","chat-input"),attrs:{focus:t._$s(30,"a-focus",t.isSend),_i:30},domProps:{value:t._$s(30,"v-model",t.msg)},on:{focus:function(e){return t.onInputFocus()},blur:function(e){return t.noSend()},input:function(e){e.target.composing||(t.msg=e.target.value)}}}),i("view",{staticClass:t._$s(31,"sc","menuBox"),attrs:{_i:31}},[i("view",{staticClass:t._$s(32,"sc","iconBtn"),attrs:{_i:32},on:{click:function(e){return t.toRedPacket()}}},[i("image",{attrs:{src:t._$s(33,"a-src",s("35f8")),_i:33}})]),i("view",{staticClass:t._$s(34,"sc","iconBtn"),attrs:{_i:34},on:{click:function(e){return t.toggleFace()}}},[i("image",{attrs:{src:t._$s(35,"a-src",t.emojeSrc),_i:35}})]),i("view",{staticClass:t._$s(36,"sc","iconBtn"),attrs:{_i:36},on:{click:function(e){return t.getImage()}}},[i("image",{attrs:{src:t._$s(37,"a-src",s("d797")),_i:37}})]),i("view",{staticClass:t._$s(38,"sc","iconBtn"),attrs:{_i:38},on:{click:function(e){return t.toggleVoice()}}},[i("image",{attrs:{src:t._$s(39,"a-src",s("545c")),_i:39}})])]),i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(40,"v-show",t.isShowFace),expression:"_$s(40,'v-show',isShowFace)"}],staticClass:t._$s(40,"sc","faceBox"),attrs:{_i:40}},t._l(t._$s(41,"f",{forItems:t.face}),(function(e,s,n,a){return i("view",{key:t._$s(41,"f",{forIndex:n,key:s}),staticClass:t._$s("41-"+a,"sc","face-item"),attrs:{_i:"41-"+a}},[i("image",{staticClass:t._$s("42-"+a,"sc","face-item"),attrs:{src:t._$s("42-"+a,"a-src",e.url),_i:"42-"+a},on:{click:function(s){return t.sendFace(e.preUrl)}}})])})),0),i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(43,"v-show",t.isSendVoice),expression:"_$s(43,'v-show',isSendVoice)"}],staticClass:t._$s(43,"sc","faceBox"),attrs:{_i:43}},[i("view",{staticClass:t._$s(44,"sc","voice-btn"),attrs:{_i:44}},[i("view",{staticClass:t._$s(45,"sc","voice-time"),attrs:{_i:45}},[t._v(t._$s(45,"t0-0",t._s(t.voiceTime)))]),i("image",{staticClass:t._$s(46,"sc","voice-img"),attrs:{src:t._$s(46,"a-src",s("f9a6")),_i:46},on:{touchstart:function(e){return t.toVoice(0)},touchend:function(e){return t.toVoice(1)}}})])]),i("button",{staticClass:t._$s(47,"sc","sendBtn"),attrs:{_i:47},on:{touchend:function(e){return e.preventDefault(),t.SendMsg()}}})]),i("view",{staticClass:t._$s(48,"sc","longTap-list"),style:t._$s(48,"s",{top:t.clientY+"px",left:t.clientX+"px"}),attrs:{_i:48}},[i("view",{staticClass:t._$s(49,"sc","longTap-item"),attrs:{_i:49},on:{click:function(e){return t.longTapEvent(0)}}}),t._$s(50,"i","\u7eaa\u5f8b\u59d4\u5458"==t.data.userRole||"OP"==t.data.userRole||"\u7ba1\u7406\u5458"==t.data.userRole)?i("view",{staticClass:t._$s(50,"sc","longTap-item"),attrs:{_i:50},on:{click:function(e){return t.longTapEvent(1)}}}):t._$s(51,"e",t.data.userName==t.longData.userName)?i("view",{staticClass:t._$s(51,"sc","longTap-item"),attrs:{_i:51},on:{click:function(e){return t.longTapEvent(1)}}}):t._e(),i("view",{staticClass:t._$s(52,"sc","longTap-item"),attrs:{_i:52},on:{click:function(e){return t.longTapEvent(2)}}})]),i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(53,"v-show",t.showRedPacketData),expression:"_$s(53,'v-show',showRedPacketData)"}],staticClass:t._$s(53,"sc","redPacketBg"),attrs:{_i:53},on:{click:function(e){e.stopPropagation(),t.showRedPacketData=!1}}},[i("view",{staticClass:t._$s(54,"sc","redPacketbox"),attrs:{_i:54}},[i("view",{staticClass:t._$s(55,"sc","redPacketInfo"),attrs:{_i:55}},[i("view",{staticClass:t._$s(56,"sc","rpi-user"),attrs:{_i:56}},[i("image",{staticClass:t._$s(57,"sc","rpi-user-img"),attrs:{src:t._$s(57,"a-src",t.redpacketData.info.userAvatarURL),_i:57}}),t._v(t._$s(56,"t1-0",t._s(t.redpacketData.info.userName)))]),t._$s(58,"i",t.redpacketData.recivers&&t.redpacketData.recivers.length>0&&""!=t.redpacketData.recivers[0])?i("view",{staticClass:t._$s(58,"sc","rpi-recivers"),attrs:{_i:58}},[t._v(t._$s(58,"t0-0",t._s(t.redpacketData.recivers.join(","))))]):i("view",{staticClass:t._$s(59,"sc","rpi-recivers"),attrs:{_i:59}},[t._v(t._$s(59,"t0-0",t._s(t.redpacketData.info.msg)))]),i("view",{staticClass:t._$s(60,"sc","rpi-msg"),attrs:{_i:60}},[t._v(t._$s(60,"t0-0",t._s(t.redpacketData.msg)))]),i("view",{staticClass:t._$s(61,"sc","rpi-count"),attrs:{_i:61}},[t._v(t._$s(61,"t0-0",t._s(t.redpacketData.info.got))+t._$s(61,"t0-1",t._s(t.redpacketData.info.count)))])]),i("view",{staticClass:t._$s(62,"sc","redPacketList"),attrs:{_i:62}},t._l(t._$s(63,"f",{forItems:t.redpacketData.who}),(function(e,s,n,a){return i("view",{key:t._$s(63,"f",{forIndex:n,key:s}),staticClass:t._$s("63-"+a,"sc","rpl-item"),attrs:{_i:"63-"+a}},[i("image",{staticClass:t._$s("64-"+a,"sc","rpl-img"),attrs:{src:t._$s("64-"+a,"a-src",e.avatar),_i:"64-"+a}}),i("view",{staticClass:t._$s("65-"+a,"sc","rpl-info"),attrs:{_i:"65-"+a}},[i("view",{staticClass:t._$s("66-"+a,"sc","rpl-name"),attrs:{_i:"66-"+a}},[t._v(t._$s("66-"+a,"t0-0",t._s(e.userName)))]),t._$s("67-"+a,"i",e.isMax)?i("view",{staticClass:t._$s("67-"+a,"sc","rpl-tag isMax"),attrs:{_i:"67-"+a}}):t._e(),t._$s("68-"+a,"i",e.is0)?i("view",{staticClass:t._$s("68-"+a,"sc","rpl-tag is0"),attrs:{_i:"68-"+a}}):t._e(),t._$s("69-"+a,"i",e.isNeg)?i("view",{staticClass:t._$s("69-"+a,"sc","rpl-tag isNeg"),attrs:{_i:"69-"+a}}):t._e(),i("view",{staticClass:t._$s("70-"+a,"sc","rpl-time"),attrs:{_i:"70-"+a}},[t._v(t._$s("70-"+a,"t0-0",t._s(e.time)))])]),i("view",{staticClass:t._$s("71-"+a,"sc","rpl-money"),attrs:{_i:"71-"+a}},[t._v(t._$s("71-"+a,"t0-0",t._s(e.userMoney)))])])})),0)])]),t._$s(72,"i",t.isShowToBottom)?i("view",{staticClass:t._$s(72,"sc","backTobottom"),style:t._$s(72,"s",{bottom:t.isShowFace||t.isSendVoice?"302px":"102px"}),attrs:{_i:72},on:{click:function(e){return t.toBottom()}}}):t._e()])},a=[]},"98e5":function(t,e,s){"use strict";s.r(e);var i=s("1bef"),n=s("92f7");for(var a in n)"default"!==a&&function(t){s.d(e,t,(function(){return n[t]}))}(a);var r,o=s("f0c5"),c=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"c51ae15c",null,!1,i["a"],r);e["default"]=c.exports},a06e:function(t,e,s){"undefined"===typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(t){var e=this.constructor;return this.then((function(s){return e.resolve(t()).then((function(){return s}))}),(function(s){return e.resolve(t()).then((function(){throw s}))}))}),uni.restoreGlobal&&uni.restoreGlobal(weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),__definePage("pages/index/index",(function(){return Vue.extend(s("0766").default)})),__definePage("pages/chat/chat",(function(){return Vue.extend(s("1ede").default)})),__definePage("pages/chat/redpacket",(function(){return Vue.extend(s("737d").default)})),__definePage("pages/chat/userInfo",(function(){return Vue.extend(s("20f7").default)})),__definePage("pages/chat/setting",(function(){return Vue.extend(s("98e5").default)}))},a34a:function(t,e,s){t.exports=s("bbdd")},a3b8:function(t,e,s){"use strict";s.r(e);var i=s("6233"),n=s.n(i);for(var a in i)"default"!==a&&function(t){s.d(e,t,(function(){return i[t]}))}(a);e["default"]=n.a},a5db:function(t,e,s){"use strict";s.r(e);var i=s("f2f6"),n=s.n(i);for(var a in i)"default"!==a&&function(t){s.d(e,t,(function(){return i[t]}))}(a);e["default"]=n.a},b0de:function(t,e,s){"use strict";s.r(e);var i=s("a5db");for(var n in i)"default"!==n&&function(t){s.d(e,t,(function(){return i[t]}))}(n);var a,r,o,c,u=s("f0c5"),l=Object(u["a"])(i["default"],a,r,!1,null,null,null,!1,o,c);e["default"]=l.exports},bbdd:function(t,e,s){var i=function(){return this||"object"===typeof self&&self}()||Function("return this")(),n=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,a=n&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,t.exports=s("96cf"),n)i.regeneratorRuntime=a;else try{delete i.regeneratorRuntime}catch(r){i.regeneratorRuntime=void 0}},c450:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{context:null,duration:100,status:!1}},props:{url:{type:String,default:""},audioColor:{type:String,default:"#fff"},durationS:[String,Number],audioId:[String,Number]},created:function(){var t=this;this.context=uni.createInnerAudioContext(),this.context.src=this.url,this.onEnded(),uni.$on("stop",(function(e){e&&e!=t.audioId?(t.context.stop(),t.status=!1):e||(t.context.stop(),t.status=!1)}))},methods:{play:function(t){this.status?(this.context.pause(),this.status=!this.status):(uni.$emit("stop",t),this.context.play(),this.status=!this.status)},onEnded:function(){var t=this;this.context.onEnded((function(){t.status=!1}))},getWith:function(t){if(t){var e=10*t+150;return e>520?"520rpx":10*t+150+"rpx"}}}};e.default=i},cd1a:function(t,e,s){"use strict";s.r(e);var i=s("8816"),n=s("0bde");for(var a in n)"default"!==a&&function(t){s.d(e,t,(function(){return n[t]}))}(a);var r,o=s("f0c5"),c=s("ec58"),u=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);"function"===typeof c["a"]&&Object(c["a"])(u),e["default"]=u.exports},d797:function(t,e){t.exports="/static/icon/tupian.png"},e5af:function(t,e,s){"use strict";var i;s.d(e,"b",(function(){return n})),s.d(e,"c",(function(){return a})),s.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:t._$s(0,"sc","userInfo-box"),attrs:{_i:0}},[s("view",{staticClass:t._$s(1,"sc","user-background"),attrs:{_i:1}},[s("image",{staticClass:t._$s(2,"sc","user-bg"),attrs:{src:t._$s(2,"a-src",t.userInfo.cardBg),_i:2}}),s("image",{staticClass:t._$s(3,"sc","user-avatar"),attrs:{src:t._$s(3,"a-src",t.userInfo.userAvatarURL),_i:3}}),t._$s(4,"i",t.userInfo.userNickname)?s("view",{staticClass:t._$s(4,"sc","user-name"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.userInfo.userNickname))+t._$s(4,"t0-1",t._s(t.userInfo.userName)))]):s("view",{staticClass:t._$s(5,"sc","user-name"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.userInfo.userName)))])]),s("view",{staticClass:t._$s(6,"sc","user-detail-box"),attrs:{_i:6}},[s("view",{staticClass:t._$s(7,"sc","user-cell"),attrs:{_i:7}},[s("view",{staticClass:t._$s(8,"sc","user-cell-label"),attrs:{_i:8}}),s("view",[t._v(t._$s(9,"t0-0",t._s(t.userInfo.userNo)))])]),s("view",{staticClass:t._$s(10,"sc","user-cell"),attrs:{_i:10}},[s("view",{staticClass:t._$s(11,"sc","user-cell-label"),attrs:{_i:11}}),s("view",[t._v(t._$s(12,"t0-0",t._s(t.userInfo.userIntro)))])]),s("view",{staticClass:t._$s(13,"sc","user-cell"),attrs:{_i:13}},[s("view",{staticClass:t._$s(14,"sc","user-cell-label"),attrs:{_i:14}}),s("view",[t._v(t._$s(15,"t0-0",t._s(t.userInfo.userRole)))])]),s("view",{staticClass:t._$s(16,"sc","user-cell"),attrs:{_i:16}},[s("view",{staticClass:t._$s(17,"sc","user-cell-label"),attrs:{_i:17}}),s("view",[t._v(t._$s(18,"t0-0",t._s(t.userInfo.userCity)))])]),s("view",{staticClass:t._$s(19,"sc","user-cell"),attrs:{_i:19}},[s("view",{staticClass:t._$s(20,"sc","user-cell-label"),attrs:{_i:20}}),s("view",[t._v(t._$s(21,"t0-0",t._s(0==t.userInfo.userAppRole?"\u9ed1\u5ba2":"\u753b\u5bb6")))])]),s("view",{staticClass:t._$s(22,"sc","user-cell"),attrs:{_i:22}},[s("view",{staticClass:t._$s(23,"sc","user-cell-label"),attrs:{_i:23}}),s("view",[t._v(t._$s(24,"t0-0",t._s(t.userInfo.userPoint)))])]),t._$s(25,"i",t.userInfo.sysMetal)?s("view",{staticClass:t._$s(25,"sc","user-cell user-sysMetal"),attrs:{_i:25}},[s("view",{staticClass:t._$s(26,"sc","user-cell-label"),attrs:{_i:26}}),t._l(t._$s(27,"f",{forItems:t.userInfo.sysMetal.list}),(function(e,i,n,a){return[t._$s("28-"+a,"i",e.enabled)?s("image",{key:t._$s(27,"f",{forIndex:n,keyIndex:0,key:"27-0"+a}),staticClass:t._$s("28-"+a,"sc","sysMetal"),attrs:{src:t._$s("28-"+a,"a-src","https://unv-shield.librian.net/api/unv_shield?scale=0.79&txt="+e.name+"&"+e.attr),_i:"28-"+a}}):t._e()]}))],2):t._e()])])},a=[]},ec58:function(t,e,s){"use strict";var i=function(t){(t.options.wxs||(t.options.wxs={}))["handler"]=function(t){var e={abbr:!0,b:!0,big:!0,code:!0,del:!0,em:!0,i:!0,ins:!0,label:!0,q:!0,small:!0,span:!0,strong:!0,sub:!0,sup:!0};return t.exports={use:function(t){return!t.c&&(!e[t.name]&&-1==(t.attrs.style||"").indexOf("display:inline"))}},t.exports}({exports:{}})};e["a"]=i},f0c5:function(t,e,s){"use strict";function i(t,e,s,i,n,a,r,o,c,u){var l,f="function"===typeof t?t.options:t;if(c){f.components||(f.components={});var d=Object.prototype.hasOwnProperty;for(var h in c)d.call(c,h)&&!d.call(f.components,h)&&(f.components[h]=c[h])}if(u&&((u.beforeCreate||(u.beforeCreate=[])).unshift((function(){this[u.__module]=this})),(f.mixins||(f.mixins=[])).push(u)),e&&(f.render=e,f.staticRenderFns=s,f._compiled=!0),i&&(f.functional=!0),a&&(f._scopeId="data-v-"+a),r?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},f._ssrRegister=l):n&&(l=o?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(f.functional){f._injectStyles=l;var p=f.render;f.render=function(t,e){return l.call(e),p(t,e)}}else{var g=f.beforeCreate;f.beforeCreate=g?[].concat(g,l):[l]}return{exports:t,options:f}}s.d(e,"a",(function(){return i}))},f2f6:function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={globalData:{apiKey:""},onLaunch:function(){t("log","App Launch"," at App.vue:7")},onShow:function(){t("log","App Show"," at App.vue:10")},onHide:function(){t("log","App Hide"," at App.vue:13")}};e.default=s}).call(this,s("0de9")["default"])},f9a6:function(t,e){t.exports="/static/icon/yuyinbtn.png"},fa81:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={appid:"__UNI__C1F4B2F"};e.default=i},fa9f:function(t,e,s){"use strict";var i;s.d(e,"b",(function(){return n})),s.d(e,"c",(function(){return a})),s.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t._$s(0,"i",t.url)?s("view",{staticClass:t._$s(0,"sc","flex audio"),class:t._$s(0,"c",{active:t.status}),style:t._$s(0,"s",{width:t.getWith(t.durationS),background:t.audioColor}),attrs:{_i:0},on:{click:function(e){return t.play(t.audioId)}}},[s("view",{staticClass:t._$s(1,"sc","mr-3"),attrs:{_i:1}},[s("view",{staticClass:t._$s(2,"sc","wifi-symbol "),class:t._$s(2,"c",t.status?"active":""),attrs:{_i:2}},[s("view",{staticClass:t._$s(3,"sc","wifi-circle first"),attrs:{_i:3}}),s("view",{staticClass:t._$s(4,"sc","wifi-circle second"),attrs:{_i:4}}),s("view",{staticClass:t._$s(5,"sc","wifi-circle third"),attrs:{_i:5}})])]),s("view",{staticClass:t._$s(6,"sc","ml-3"),attrs:{_i:6}},[t._v(t._$s(6,"t0-0",t._s(t.durationS?t.durationS+"s":"")))])]):t._e()},a=[]},fc37:function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(s("a34a")),n=o(s("4e23")),a=o(s("4533")),r=s("2fe3");function o(t){return t&&t.__esModule?t:{default:t}}function c(t,e,s,i,n,a,r){try{var o=t[a](r),c=o.value}catch(u){return void s(u)}o.done?e(c):Promise.resolve(c).then(i,n)}function u(t){return function(){var e=this,s=arguments;return new Promise((function(i,n){var a=t.apply(e,s);function r(t){c(a,i,n,r,o,"next",t)}function o(t){c(a,i,n,r,o,"throw",t)}r(void 0)}))}}var l=uni.getRecorderManager(),f=(uni.createInnerAudioContext(),{components:{mpHtml:n.default},data:function(){return{content:[],apiKey:"",data:{},msg:"",firstMsg:null,secondMsg:null,emojeSrc:"../../static/icon/huaji1.png",redpacketData:{who:[],info:{msg:"\u8bd5\u8bd5\u770b\uff0c\u8fd9\u662f\u7ed9\u4f60\u7684\u7ea2\u5305\u5417\uff1f",userAvatarURL:"",count:1,userName:"Yui",got:0}},redpacketTitle:"",showRedPacketData:!1,JoinChat:null,JoinChatTime:30,scrollPower:!0,isShowFace:!1,face:[],isSend:!1,defaultTitle:{random:"\u62fc\u624b\u6c14\u7ea2\u5305",average:"\u666e\u901a\u7ea2\u5305",specify:"\u4e13\u5c5e\u7ea2\u5305",heartbeat:"\u5fc3\u8df3\u7ea2\u5305"},clientY:-999,clientX:0,longData:{msg:"",oId:"",userName:""},nowPage:1,isSending:!1,isHistory:!1,isSendVoice:!1,isShowToBottom:!1,isSocketClose:!1,scrollTimeout:null,setting:{JoinChatTime:30,ImageLoadHome:"https://pwl.yuis.cc/GetImage?url="},scrollInfo:{oldTop:99999},liveness:0,voicePath:"",voiceTimeout:null,voiceTime:0,isVoice:!1}},onPullDownRefresh:function(){t("log","loadPage~~"," at pages/chat/chat.vue:223"),clearTimeout(this.scrollTimeout),this.scrollPower=!1,this.getHistoryMsg()},onReachBottom:function(){this.scrollPower=!0,this.isShowToBottom=!1},onNavigationBarButtonTap:function(t){"menu"==t.type&&uni.navigateTo({url:"./setting?apiKey="+this.apiKey,animationType:"pop-in",animationDuration:200})},onPageScroll:function(t){this.clientY=-999,this.isSend=!1,t.scrollTop<this.scrollInfo.oldTop&&(this.scrollPower=!1),this.scrollInfo.oldTop=t.scrollTop},onLoad:function(){var e=this;if(this.apiKey=getApp().globalData.apiKey||uni.getStorageSync("apiKey"),this.data=getApp().globalData.data||uni.getStorageSync("userData"),this.setting=uni.getStorageSync("setting")||{JoinChatTime:30,ImageLoadHome:"https://pwl.yuis.cc/GetImage?url="},this.apiKey&&this.data){this.getPage(1),this.getFaceList(),this.initChat();var s=this;uni.onSocketClose((function(e){t("log","WebSocket \u5df2\u5173\u95ed\uff01"," at pages/chat/chat.vue:269"),s.isSocketClose=!0,s.JoinChat=setInterval((function(){s.JoinChatTime--,t("log","".concat(s.JoinChatTime,"s\u540e\u5c1d\u8bd5\u91cd\u8fdeWebSocket")," at pages/chat/chat.vue:273"),0==s.JoinChatTime&&(s.initChat(),s.JoinChatTime=s.setting.JoinChatTime||30)}),1e3)})),l.onStop((function(e){s.voicePath=e.tempFilePath,s.voiceTime=0,s.isVoice=!1,uni.showLoading({title:"\u53d1\u9001\u4e2d..."}),(0,r.upload)(e.tempFilePath).then((function(e){if(uni.hideLoading(),200==e.statusCode){var i=JSON.parse(e.data);for(var n in i=i.data.succMap,t("log",i," at pages/chat/chat.vue:292"),i)s.msg=' <audio controls> <source src="'.concat(i[n],'?key=userVoice" type="audio/mpeg"></audio>');s.isSend=!0}else uni.showToast({title:"\u8bed\u97f3\u4e0a\u4f20\u5931\u8d25\uff01",icon:"none"})}))})),this.emojeSrc="../../static/icon/huaji".concat(Math.ceil(6*Math.random()),".png"),uni.onKeyboardHeightChange((function(t){0==t.height&&(e.isShowFace=!1,e.isSend=!1,e.isSendVoice=!1)})),setTimeout((function(){e.getUserLiveness()}),3e4*Math.random()+3e4)}else uni.reLaunch({url:"/pages/index/index"})},methods:{requestAndroidPermission:function(t){return u(i.default.mark((function e(){return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.default.requestAndroidPermission(t);case 2:return e.abrupt("return",result=e.sent);case 3:case"end":return e.stop()}}),e)})))()},toVoice:function(e){var s=this;if(0==e){var i=this.requestAndroidPermission("android.permission.RECORD_AUDIO");1==i?this.isVoice||(t("log","\u5f55\u97f3\u5f00\u59cb"," at pages/chat/chat.vue:332"),this.isVoice=!0,l.start(),this.voiceTimeout=setInterval((function(){s.voiceTime=s.voiceTime+1,s.voiceTime>14&&(l.stop(),clearInterval(s.voiceTimeout))}),1e3)):uni.showToast({title:"\u6ca1\u6709\u9ea6\u514b\u98ce\u6743\u9650",icon:"none"})}else t("log","\u5f55\u97f3\u7ed3\u675f"," at pages/chat/chat.vue:351"),clearInterval(this.voiceTimeout),l.stop()},getUserLiveness:function(){var t=this,e=uni.getStorageSync("liveness");e&&(e=JSON.parse(e),(new Date).getTime()-e.time<6e4)?this.liveness=e.liveness:(0,r.getLiveness)({apiKey:this.apiKey}).then((function(e){t.liveness=e.liveness,uni.setStorageSync("liveness",JSON.stringify({liveness:e.liveness,time:(new Date).getTime()}))}))},deleteMessage:function(e){(0,r.deleteMsg)({oId:e,apiKey:this.apiKey}).then((function(e){t("log",e," at pages/chat/chat.vue:380")}))},getHistoryMsg:function(){var t=this;this.isHistory||(this.isHistory=!0,this.nowPage=this.nowPage+1,(0,r.getMorePage)({page:this.nowPage,apiKey:this.apiKey}).then((function(e){if(t.isHistory=!1,uni.stopPullDownRefresh(),0==e.code){var s=e.data;s.reverse(),s.forEach((function(e){t.isJSON(e.content)&&(e.content=JSON.parse(e.content),e.isMoney=!0),t.content.forEach((function(t){t.oId==e.oId&&(e.hide=!0)}))})),t.content=s.concat(t.content)}})))},longTapEvent:function(t){this.clientY=-999,0==t?this.SendMsg(this.longData.msg):1==t?this.deleteMessage(this.longData.oId):(this.msg="##### \u5f15\u7528 @".concat(this.longData.userName," \n  > ").concat(this.longData.msg," \n\n")+this.msg,this.isSend=!0)},longpress:function(t){this.clientY=t.changedTouches[0].clientY-50,this.clientX=t.changedTouches[0].clientX-50,this.longData.msg=t.currentTarget.dataset.msg,this.longData.oId=t.currentTarget.dataset.oid,this.longData.userName=t.currentTarget.dataset.username},atThis:function(t){var e=this;this.msg="@".concat(t," :")+this.msg,setTimeout((function(){e.isSend=!0}),100)},noSend:function(){this.isSend=!1,this.isShowFace=!1,this.isSendVoice=!1},onInputFocus:function(){this.clientY=-999,this.scrollPower=!0,this.scrollToBottom()},keyboardChange:function(t){0==t.detail.detail&&(this.isSend=!1,this.isShowFace=!1,this.isSendVoice=!1)},toRedPacket:function(){uni.navigateTo({url:"./redpacket?apiKey="+this.apiKey,animationType:"pop-in",animationDuration:200})},getImage:function(){var t=this;uni.chooseImage({count:1,sizeType:["compressed"],success:function(e){uni.showLoading({title:"\u4e0a\u4f20\u4e2d..."}),(0,r.upload)(e.tempFilePaths[0]).then((function(e){if(uni.hideLoading(),200==e.statusCode){var s=JSON.parse(e.data);for(var i in s=s.data.succMap,s)t.msg=t.msg+" ![\u56fe\u7247\u8868\u60c5](".concat(s[i],")");t.isSend=!0}else uni.showToast({title:"\u56fe\u7247\u4e0a\u4f20\u5931\u8d25\uff01",icon:"none"})}))}})},getFaceList:function(){var e=this;(0,r.faceList)({gameId:"emojis",apiKey:this.apiKey}).then((function(s){if(0==s.code){var i=JSON.parse(s.data);i.forEach((function(t){var s=encodeURI(t);s=btoa(s),e.face.push({url:"".concat(e.setting.ImageLoadHome+s),preUrl:t})}))}else t("log","===:error:==="," at pages/chat/chat.vue:520"),t("log",s," at pages/chat/chat.vue:521")}))},sendFace:function(t){this.msg=this.msg+" ![\u56fe\u7247\u8868\u60c5](".concat(t,")"),this.isShowFace=!1,this.isSendVoice=!1,this.isSend=!0},toggleFace:function(){this.isShowFace=!this.isShowFace},toggleVoice:function(){this.isSendVoice=!this.isSendVoice},showLink:function(t){var e=t;e.class&&"name-at"==e.class&&this.toUser(t["aria-label"]),e.target&&"_blank"==e.target&&plus.runtime.openURL(e.href)},toUser:function(t){uni.navigateTo({url:"./userInfo?user="+t,animationType:"pop-in",animationDuration:200})},getPage:function(t){var e=this;1==t&&(this.content=[]),this.scrollPower=!1,(0,r.getMorePage)({page:t,apiKey:this.apiKey}).then((function(t){if(0==t.code){var s=t.data;s.reverse(),s.forEach((function(t){e.filterMsg(t)})),e.scrollPower=!0,e.scrollToBottom()}}))},getMoney:function(t){var e=this,s=this;(0,r.openRedPacket)({oId:t,apiKey:s.apiKey}).then((function(t){e.redpacketData=t;var s=e.redpacketData.who.find((function(t){return t.userName==e.data.userName})),i=e.redpacketData.recivers&&e.redpacketData.recivers.length&&e.redpacketData.recivers.indexOf(e.data.userName)>=0,n="";n=e.redpacketData.recivers&&e.redpacketData.recivers.length&&!i&&""!=e.redpacketData.recivers[0]?"\u4f1a\u9519\u610f\u4e86":s?0==s.userMoney?"\u62a2\u4e86\u4e2a\u5bc2\u5bde":s.userMoney<0?"\u88ab\u53cd\u62a2\u4e86\u5427~":"".concat(s.userMoney," \u79ef\u5206"):"\u9519\u8fc7\u4e00\u4e2a\u4ebf";var a=e.redpacketData.who,r=0,o=0;a.forEach((function(t,e){t.userMoney>=r&&(r=t.userMoney,o=e),0==t.userMoney&&(a[e].is0=!0),t.userMoney<0&&(a[e].isNeg=!0)})),e.redpacketData.info.got==e.redpacketData.info.count&&(a[o].isMax=!0),e.redpacketData.who=a,e.redpacketData.msg=n,e.showRedPacketData=!0}))},SendMsg:function(t){if(!this.isSending){var e=this,s=e.msg||t;this.isShowFace=!1,this.isSendVoice=!1,this.isSending=!0,s&&""==s.trim()||(0,r.send)({content:s,apiKey:e.apiKey}).then((function(t){e.msg="",e.isSending=!1,e.scrollPower=!0}))}},initChat:function(){var e=this,s=uni.connectSocket({url:r.WS.channel,success:function(s){e.isSocketClose=!1,t("log","WebSocket \u8fde\u63a5\u6210\u529f\uff01"," at pages/chat/chat.vue:662"),clearInterval(e.JoinChat)},fail:function(e){t("log","WebSocket \u8fde\u63a5\u5931\u8d25\uff01"," at pages/chat/chat.vue:666")}});s.onMessage((function(t){e.wsMessage(t)}))},wsMessage:function(t){var e=JSON.parse(t.data);switch(e.type){case"online":uni.setStorageSync("users",JSON.stringify(e.users)),uni.setNavigationBarTitle({title:"\u6478\u9c7c\u6d3e-\u804a\u5929\u5ba4(".concat(e.onlineChatCnt,")")});break;case"revoke":for(var s=0;s<this.content.length;s++){var i=this.content[s];if(i.oId==e.oId){this.content.splice(s,1);break}}break;case"msg":this.scrollPower||this.isShowToBottom||(this.isShowToBottom=!0),this.filterMsg(e),this.content.length>500&&this.getPage(1);break;case"redPacketStatus":this.content.push(e);break}},filterMsg:function(t){this.isJSON(t.content)?(t.content=JSON.parse(t.content),t.isMoney=!0,this.content.push(t),this.scrollToBottom()):(/<img [^>]*src=['"]([^'"]+)[^>]*>/gi.test(t.content),this.content.push(t)),t.isMoney||(this.secondMsg=this.firstMsg,this.firstMsg=t)},isJSON:function(t){if("string"==typeof t)try{var e=JSON.parse(t);return!("object"!=typeof e||!e)}catch(s){return!1}},toBottom:function(){this.scrollPower=!0,this.isShowToBottom=!1,this.scrollToBottom()},scrollToBottom:function(){if(this.scrollPower){var t=uni.createSelectorQuery();t.select(".contentBox").boundingClientRect(),t.selectViewport().scrollOffset(),t.exec((function(t){t[0]&&setTimeout((function(){uni.pageScrollTo({scrollTop:t[0].height,duration:100})}),100)}))}}}});e.default=f}).call(this,s("0de9")["default"])},fe3d:function(t,e,s){"use strict";s.r(e);var i=s("6688"),n=s.n(i);for(var a in i)"default"!==a&&function(t){s.d(e,t,(function(){return i[t]}))}(a);e["default"]=n.a}},[["5e9c","app-config"]]]);